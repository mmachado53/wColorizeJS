{"version":3,"sources":["images/brush-icon.png","images/magic-wand-icon.png","images/polygon-icon.png","images/logo.png","logo.svg","images/erease-icon.png","BoardPage/Components/GradientSlider.js","BoardPage/Components/InputHorizontalSlider.js","BoardPage/Components/HueSlider.js","BoardPage/Components/ToolBars/ColorLayerToolBar.js","BoardPage/Components/ToolBars/BlackWhiteLayerToolBar.js","../../color-replace-app-core/lib/Utils.js","../../color-replace-app-core/lib/UI/MagnifyingGlass.js","../../color-replace-app-core/lib/Layer.js","../../color-replace-app-core/lib/DrawTools/SelectionPixelsCtrl.js","../../color-replace-app-core/lib/DrawTools/BaseDrawTool.js","../../color-replace-app-core/lib/DrawTools/ToolBrush.js","../../color-replace-app-core/lib/DrawTools/ToolSelectionPolygon.js","../../color-replace-app-core/lib/DrawTools/ToolSelectionMagicWand.js","../../color-replace-app-core/lib/BoardController.js","BoardPage/Components/LayerRow.js","BoardPage/Components/ToolBars/BottomToolBar.js","BoardPage/Components/StylizedMaterialComponents/index.js","BoardPage/Components/ToolBars/BrushToolBar.js","BoardPage/Components/ToolBars/MagicWandToolBar.js","BoardPage/Components/LayersBox.js","BoardPage/Components/InitialLogoAndLoaderPage/FileDropView.js","BoardPage/Components/InitialLogoAndLoaderPage/index.js","BoardPage/index.js","App.js","serviceWorker.js","theme.js","index.js","images/bg_dark.gif"],"names":["module","exports","GradientSlider","withStyles","theme","root","marginTop","marginBottom","color","height","padding","borderRadius","background","palette","secondary","main","dark","thumb","width","backgroundColor","light","border","marginLeft","boxShadow","active","valueLabel","left","top","track","rail","Slider","useStyles","makeStyles","topBar","textAlign","label","paddingLeft","paddingRight","InputHorizontalSlider","props","classes","unit","defaultValue","value","min","max","onChange","onChangeCommitted","Grid","className","container","spacing","alignItems","item","Box","xs","aria-labelledby","defaultProps","event","newValue","HueSlider","flexGrow1","flexGrow","bottom","right","position","primary","bar","display","hueContainer","colorBtn","layerNameLabel","marginRight","ColorLayerToolBar","visible","handleHueSliderChange","handleSaturationSliderChange","handleBrightnessSliderChange","handleClose","hue","saturation","brightness","layerName","layerColor","Slide","direction","in","Typography","style","IconButton","onClick","BlackWhiteLayerToolBar","handleWhitesSliderChange","white","handleBlacksSliderChange","black","UTILS","vector3_1","vector3_2","dx","x","dy","y","dz","z","Math","sqrt","r","g","b","rr","gg","bb","h","s","v","diff","diffc","c","round","result","H","C","L","alpha","Q","exp","rg","gb","br","abs","toDegrees","atan2","i","f","p","q","t","arguments","length","_h","_h2","floor","hcl1","hcl2","dl","dh","c1","c2","cos","toRadians","Dh","AlDl","rgbObj","HSVtoRGB","rString","toString","gString","bString","repeat","parseInt","pow","hexString","replace","concat","slice","Number","imageWidth","imageHeight","canvasWidth","canvasHeight","scaleX","scaleY","scale","canvas","blackCanvas","document","createElement","blackCtx","getContext","blackImageData","getImageData","blackBuffer","Uint32Array","data","buffer","whiteCanvas","whiteCtx","whiteImageData","whiteBuffer","ctx","canvasBuffer","totalOfPixels","pixelUint32","_RGBUtils$numberToRGB","numberToRGBA","hsv","a","rgb2hsv","RGBAToNumber","putImageData","blackLayer","whiteLayer","n","PI","point1","point2","x1","y1","x2","y2","number","MagnifyingGlass","renderer","displayObject","zoom","_this","this","__width","__height","renderTexture","create","cropRenderTexture","cropSprite","call","graphics","beginFill","drawRect","endFill","point","update","render","matrix","getCropPositionData","translate","setPivot","TOP","pivot","set","TOP_RIGHT","RIGHT","BOTTOM_RIGHT","BOTTOM","BOTTOM_LEFT","LEFT","TOP_LEFT","setPoint","prototype","Object","_PIXI$Container","Layer","name","id","blackLayerTexture","whiteLayerTexture","layerID","rendererWidth","rendererHeight","drawMask","cacheAsBitmap","renderable","colorLayer","whiteLayerSprite","blackLayerSprite","mask","currentColor","addChild","redrawColor","rebuildColorsInfos","key","clear","currentHexColor","currentRGBColor","numberToRGB","_this$currentRGBColor","currentHSVColor","removeChild","destroy","image","get","level","hexColor","rgbColor","hsvColor","whiteLevel","blackLevel","SelectionPixelsCtrl","pixiApp","setSelection","isSelction","clearGraphics","REMOVE_COLOR","selectionTexture","drawMaskInCanvas","imgDataUI","ctxUI","uiTexture","texture","pixelData","canvasCtx","texturePixels","extract","pixels","total","clearSelection","ADD_COLOR","clearRect","canvasUI","draw","layer","canvasTexture","blankObj","selectionSprite","canvasSprite","from","uiSprite","BaseDrawTool","boarCtrl","selectionCtrl","uiRenderTexture","add","baseCanvas","pos","onAddChange","BLANK_DISPLAY_OBJ","_BaseDrawTool","ToolBrush","size","uiSize","uiScale","drawing","brushTexture","scaleMode","LINEAR","brushSprite","brushUISprite","hardness","setSize","redrawBrush","redrawUIBrush","addPoint","toLocal","m","val","radius","blurSize","realSize","CIRCLE_GRAPHICS","defaultColorToPaint","drawCircle","BLUR_FILTER","blur","filters","resize","lineStyle","BlurFilter","ToolSelectionPolygon","ctrl","uiGraphic","layerPoints","globalPoints","mousePoint","console","log","cancel","redrawUI","globalPoint","push","finishPolygon","moveTo","lineTo","toGlobal","ToolSelectionMagicWand","tolerance","baseWidth","baseHeight","uiHelper","CANVAS","CTX","drawImage","isDraging","previewLayer","layersVisibleInfo","setLayer","setColor","setDarkLevel","setWhiteLevel","hideLayers","layersContainer","clearPoint","showLayers","autoFill","fillFromPickedColor","layers","l","localPoint","getPixelInfo","uint32","distance2d","uiPoint","pointRadius","movePoint","magicWandCallBack","layerPoint","undefined","floodFill","selectedPixelsSprite","_this2","redrawPoint","newColor","pointGraphics","pixiRenderer","_this3","darkLevel","selectedPixelsTexture","maskTexture","lightsSprite","shadowsSprite","imageData","sp","baseTexture","_loadImage","src","Promise","resolve","reject","img","Image","addEventListener","err","BoardController","onScrollE","e","offsetX","offsetY","deltaY","zoomIn","zoomOut","touchStart","touches","targetTouches","timerForPinchToZoomGesture","clearTimeout","lastPinchGestureData","getPositionFromTouch","setTimeout","mouseDown","touchMove","pinchGestureData","movX","middlePoint","movY","distance","photoAndLayersContainer","_this$photoAndLayersC","updateToolUI","mouseMove","touchEnd","mouseUp","touchCancel","lastMousePointClicked","currentTool","_this$photoAndLayersC2","glass","setWhiteLevelToSelectedLayer","currentLayer","onSelectedLayerPropsChange","info","layerCount","pixelRatio","window","devicePixelRatio","screenWidth","screen","screenHeight","_loadImage2","mark","_callee","containerHTMLElement","url","maxSize","base","blackWhiteLayers","centerData","wrap","_context","prev","next","sent","buildBaseCanvas","photoWidth","photoHeight","getBlackAndWitheLayers","getCenterData","clientWidth","clientHeight","initSizes","photoSprite","abrupt","startPixi","stop","_x","_x2","_x3","apply","autoDensity","resizeTo","transparent","antialias","resolution","stage","interactive","TOOLS","TOOL_BRUSH","TOOL_POLYGON","TOOL_MAGIC_WAND","buildContainer","start","view","onwheel","toolsValues","type","getTolerance","setHardness","setToAdd","setToRemove","setTolerance","delta","minScale","tool","setActive","onPhotoScaleChange","selectLayer","findLayer","hideGlass","showGlass","colorNumber","_this$currentLayer$cu","setColorToSelectedLayer","HSVtoRGBnumber","sat","_this$currentLayer$cu2","_this$currentLayer$cu3","children","forEach","index","touchA","touchB","pointA","pointB","touch","rect","target","getBoundingClientRect","clientX","clientY","colorsStyle","LayerRow","memo","selectedLayerId","selectedLayerIndex","colorStyle_","ListItem","selected","button","ListItemAvatar","minWidth","Avatar","ListItemText","prevData","nextData","prevLayerInfo","nextLayerInfo","toolbar","appBarBottom","iconImg","divider","BottomToolBar","handleBrushBtn","handleMagicWandBtn","handleSelectionPolygonBtn","Toolbar","variant","brushIcon","Divider","orientation","magicWandIcon","polygonIcon","MenuTabs","indicator","Tabs","MenuTab","textTransform","fontWeight","typography","fontWeightRegular","opacity","fontWeightMedium","Tab","disableRipple","BrushToolBar","handleSize","handleHardness","handleBrushType","brushValues","brushType","icon","barButton","margin","MagicWandToolBar","disabledButtons","handleTolerance","handleCancel","handleType","magicWandValues","handleAccept","handleToleranceCommitted","toolType","Button","disabled","iconBtn","svgIcon","layersPaper","h4","layerToolBar","grow","LayersBox","onClose","onOpen","open","handleSelect","handleAddLayer","SwipeableDrawer","role","itemData","itemSize","itemCount","maxWidth","fontSize","spanT","overflow","LoadButton","lineHeight","FileDropView","fileInputRef","useRef","Paper","onDragEnter","stopPropagation","onDragOver","preventDefault","onDrop","onFiles","dataTransfer","files","current","click","hidden","ref","accept","currentTarget","VideoButton","loaderContainer","videoButtonContainer","logo","logoImg","backgroundSize","Index","onFileDrop","bg","bgImage","content","BoardPage","contentRef","useState","layersData","setLayersData","visibleFileLoader","setVisibleFileLoader","visibleBottomBar","setVisibleBottomBar","visibleTopBar","setVisibleTopBar","visibleColorLayerToolBar","setVisibleColorLayerToolBar","visibleBlackWhiteLayerToolBar","setVisibleBlackWhiteLayerToolBar","visibleLayersBox","setVisibleLayersBox","boardCtrl","setToolsValues","selectedTool","setSelectedTool","disableMagicWandButtons","setDisableMagicWandButtons","setTool","useCallback","layerInfo","addLayer","prevLayerData","resData","assign","handleSelectLayer","selectedLayer","AppBar","switchGlass","resultCanvas","getCanvasResult","toDataURL","write","outerHTML","reader","FileReader","onload","maxCanvasSize","loadImage","then","appendChild","getToolsValues","readAsDataURL","handleRemoveLayer","TOOL_SELECTION_POLYGON","setBrushToRemove","setBrushToAdd","prevValue","setBrushHardness","setBrushSize","setMagicWandTolerance","fillMagicWand","setMagicWandToRemove","setMagicWandToAdd","applyMagicWandToSelectedLayer","setHueToSelectedLayer","setSaturationToSelectedLayer","setBrightnessToSelectedLayer","setBlackLevelToSelectedLayer","rootContainer","App","Container","Boolean","location","hostname","match","createMuiTheme","contrastText","error","red","A400","default","ReactDOM","ThemeProvider","CssBaseline","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.806de16b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo.b06cd1d9.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";","module.exports = \"data:image/png;base64,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\"","import Slider from \"@material-ui/core/Slider\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nconst GradientSlider = withStyles(theme=> ({\n    root: {\n        marginTop:15,\n        marginBottom:10,\n        color: '#00000000',\n        height: 5,\n        padding:0,\n        borderRadius:2,\n        background: `linear-gradient(to left, ${theme.palette.secondary.main} 0%, ${theme.palette.secondary.dark} 100%)`\n    },\n    thumb: {\n        height: 12,\n        width: 10,\n        backgroundColor: theme.palette.secondary.light,\n        border: `1px solid ${theme.palette.secondary.dark}`,\n        borderRadius:2,\n        marginTop: -3,\n        marginLeft: -5,\n        '&:focus,&:hover,&$active': {\n            boxShadow: 'inherit',\n        },\n    },\n    active: {},\n    valueLabel: {\n        left: 'calc(-50% - 12px)',\n        top: -18,\n        '& *': {\n            background: 'transparent',\n            color: '#000',\n        },\n    },\n    track: {\n        backgroundColor:'transparent',\n        height: 20,\n        borderRadius: 0,\n    },\n    rail: {\n        backgroundColor:'transparent',\n        height: 20,\n        borderRadius: 4,\n    },\n}))(Slider);\n\n\nexport default GradientSlider","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport PropTypes from \"prop-types\"\nimport GradientSlider from \"./GradientSlider\";\nimport Box from \"@material-ui/core/Box\";\n\nconst useStyles = makeStyles({\n    topBar:{\n    },\n    valueLabel : {\n        width:60,\n        textAlign:\"center\"\n    },\n    label : {\n        width:80\n    },\n    paddingLeft: {\n        paddingLeft:6,\n\n    },\n    paddingRight : {\n        paddingRight: 6\n    }\n});\nconst InputHorizontalSlider = (props)=>{\n    const classes = useStyles();\n    const {unit,defaultValue,label,value,min,max,onChange,onChangeCommitted} = props\n\n    return (\n        <div>\n            <Grid className={classes.topBar} container spacing={1} alignItems=\"center\">\n                <Grid item className={classes.label}>\n                    <Box className={classes.paddingLeft}>\n                        {label}\n                    </Box>\n                </Grid>\n                <Grid item xs>\n                    <GradientSlider\n                        min={min}\n                        max={max}\n                        defaultValue = {defaultValue}\n                        value={typeof value === 'number' ? value : 0}\n                        onChange={onChange}\n                        onChangeCommitted={onChangeCommitted}\n                        aria-labelledby=\"input-slider\"\n                    />\n                </Grid>\n                <Grid item className={classes.valueLabel}>\n                    <Box className={classes.paddingRight}>\n                        {value}{unit}\n                    </Box>\n                </Grid>\n            </Grid>\n        </div>\n    );\n}\n\nInputHorizontalSlider.propTypes = {\n    value : PropTypes.number,\n    min : PropTypes.number,\n    defaultValue : PropTypes.number,\n    max : PropTypes.number,\n    label : PropTypes.string,\n    onChange : PropTypes.func,\n    onChangeCommitted : PropTypes.func,\n    unit: PropTypes.string\n}\n\nInputHorizontalSlider.defaultProps = {\n    value : 0,\n    min : 0,\n    max: 100,\n    label: \"\",\n    defaultValue: 50,\n    unit: \"\",\n    onChange : (event, newValue)=>{},\n    onChangeCommitted : (event, newValue)=>{},\n}\n\nexport default InputHorizontalSlider\n","import Slider from \"@material-ui/core/Slider\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nconst HueSlider = withStyles({\n    root: {\n        marginTop:15,\n        marginBottom:10,\n        color: '#00000000',\n        height: 20,\n        padding:0,\n        borderRadius:5,\n        background:'linear-gradient(to right, red 0%, #ff0 17%, lime 33%, cyan 50%, blue 66%, #f0f 83%, red 100%)'\n    },\n    thumb: {\n        height: 24,\n        width: 6,\n        backgroundColor: '#fff',\n        border: '1px solid #000000',\n        borderRadius:2,\n        marginTop: -2,\n        marginLeft: -3,\n        '&:focus,&:hover,&$active': {\n            boxShadow: 'inherit',\n        },\n    },\n    active: {},\n    valueLabel: {\n        left: 'calc(-50% - 12px)',\n        top: -18,\n        '& *': {\n            background: 'transparent',\n            color: '#000',\n        },\n    },\n    track: {\n        backgroundColor:'transparent',\n        height: 20,\n        borderRadius: 0,\n    },\n    rail: {\n        backgroundColor:'transparent',\n        height: 20,\n        borderRadius: 4,\n    },\n})(Slider);\n\nexport default HueSlider","import makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport Slide from \"@material-ui/core/Slide\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputHorizontalSlider from \"../InputHorizontalSlider\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport HueSlider from \"../HueSlider\";\nimport Typography from \"@material-ui/core/Typography\";\n\n\n\n\nconst useStyles = makeStyles(theme => ({\n    flexGrow1:{\n        flexGrow:1\n    },\n    container:{\n        color: theme.palette.secondary.light,\n        top: 0,\n        bottom: \"auto\",\n        left:0,\n        right:0,\n        position: \"fixed\",\n        backgroundColor: theme.palette.primary.main\n    },\n    bar:{\n        display : \"flex\"\n    },\n    hueContainer: {\n        paddingRight : 20,\n        paddingLeft : 20\n    },\n    colorBtn:{\n        width: 24,\n        height:24,\n        backgroundColor:\"#FF0000\",\n        borderRadius:5,\n        marginTop: 6\n    },\n    layerNameLabel:{\n        marginLeft: 10,\n        marginRight: 10,\n        marginTop: 6,\n        color: \"#FFFFFF\"\n\n    }\n}));\n\n\n\n\nconst ColorLayerToolBar = (props)=>{\n\n    const classes = useStyles()\n\n    const {visible,\n        handleHueSliderChange,\n        handleSaturationSliderChange,\n        handleBrightnessSliderChange,\n        handleClose,\n        hue,\n        saturation,\n        brightness,\n        layerName,\n        layerColor} = props\n\n\n\n    return (\n        <Slide  direction=\"down\" in={visible}>\n            <div  className={classes.container}>\n                <Grid container>\n                    <Grid item xs={12} className={classes.hueContainer}>\n                        <HueSlider\n                            onChange={handleHueSliderChange}\n                            value={hue} min={0} max={359}\n                            defaultValue={0} />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <InputHorizontalSlider\n                            onChange={handleSaturationSliderChange}\n                            value={saturation}\n                            defaultValue={0}\n                            label={\"Saturation\"} />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <InputHorizontalSlider\n                            onChange={handleBrightnessSliderChange}\n                            value={brightness} defaultValue={0}\n                            label={\"Brightness\"} />\n                    </Grid>\n                </Grid>\n                <div className={classes.bar}  >\n                    <Typography className={classes.layerNameLabel}>\n                        {layerName}\n                    </Typography>\n\n                    <div style={{backgroundColor:`${layerColor}`}}\n                             className={classes.colorBtn}></div>\n\n                    <div className={classes.flexGrow1}/>\n                    <IconButton onClick={handleClose}  color=\"secondary\">\n                        <ExpandLessIcon/>\n                    </IconButton>\n                </div>\n            </div>\n        </Slide>\n    )\n}\n\n\n\nColorLayerToolBar.propTypes = {\n    visible:PropTypes.bool.isRequired,\n    handleHueSliderChange: PropTypes.func.isRequired,\n    handleSaturationSliderChange: PropTypes.func.isRequired,\n    handleBrightnessSliderChange: PropTypes.func.isRequired,\n    handleClose: PropTypes.func.isRequired,\n    hue : PropTypes.number.isRequired,\n    saturation : PropTypes.number.isRequired,\n    brightness : PropTypes.number.isRequired,\n    layerName : PropTypes.string.isRequired,\n    layerColor : PropTypes.string.isRequired\n}\n\nexport default ColorLayerToolBar","import makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputHorizontalSlider from \"../InputHorizontalSlider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\n\n\nconst useStyles = makeStyles(theme => ({\n    flexGrow1:{\n        flexGrow:1\n    },\n    container:{\n        color: theme.palette.secondary.light,\n        top: 0,\n        bottom: \"auto\",\n        left:0,\n        right:0,\n        position: \"fixed\",\n        backgroundColor: theme.palette.primary.main\n    },\n    bar:{\n        display : \"flex\"\n    }\n}));\n\n\n\n\nconst BlackWhiteLayerToolBar = (props)=>{\n\n    const classes = useStyles()\n\n    const {visible,\n        handleWhitesSliderChange,\n        white,\n        handleBlacksSliderChange,\n        black,\n        handleClose\n    } = props\n\n    return (\n        <Slide  direction=\"down\" in={visible}>\n            <div  className={classes.container}>\n                <Grid container>\n                    <Grid item xs={12}>\n                        <InputHorizontalSlider\n                            onChange={handleWhitesSliderChange}\n                            value={white}\n                            defaultValue={0}\n                            label={\"W. levels\"} />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <InputHorizontalSlider\n                            onChange={handleBlacksSliderChange}\n                            value={black} defaultValue={0}\n                            label={\"B. levels\"} />\n                    </Grid>\n                </Grid>\n                <div className={classes.bar}  >\n                    <div className={classes.flexGrow1}/>\n                    <IconButton onClick={handleClose}  color=\"secondary\">\n                        <ExpandLessIcon/>\n                    </IconButton>\n                </div>\n            </div>\n        </Slide>\n    )\n}\n\n\n\nBlackWhiteLayerToolBar.propTypes = {\n    visible:PropTypes.bool.isRequired,\n    handleWhitesSliderChange: PropTypes.func.isRequired,\n    white: PropTypes.number.isRequired,\n    handleBlacksSliderChange: PropTypes.func.isRequired,\n    black: PropTypes.number.isRequired,\n    handleClose : PropTypes.func.isRequired\n}\n\nexport default BlackWhiteLayerToolBar","import _slicedToArray from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { func } from \"prop-types\";\nimport RGBUtils from \"wayak-rgb-utils\";\nvar UTILS = {};\n\nUTILS.distance3d = function (vector3_1, vector3_2) {\n  //console.log(\"/////distance3d//\",vector3_1,vector3_2);\n  var dx = vector3_1.x - vector3_2.x;\n  var dy = vector3_1.y - vector3_2.y;\n  var dz = vector3_1.z - vector3_2.z;\n  var result = Math.sqrt(dx * dx + dy * dy + dz * dz); //console.log(\"distance3d //\",result);\n\n  return result;\n};\n\nUTILS.rgb2hsv = function (r, g, b) {\n  r = r / 255;\n  g = g / 255;\n  b = b / 255;\n\n  var rr,\n      gg,\n      bb,\n      h,\n      s,\n      v = Math.max(r, g, b),\n      diff = v - Math.min(r, g, b),\n      diffc = function diffc(c) {\n    return (v - c) / 6 / diff + 1 / 2;\n  };\n\n  if (diff === 0) {\n    h = s = 0;\n  } else {\n    s = diff / v;\n    rr = diffc(r);\n    gg = diffc(g);\n    bb = diffc(b);\n\n    if (r === v) {\n      h = bb - gg;\n    } else if (g === v) {\n      h = 1 / 3 + rr - bb;\n    } else if (b === v) {\n      h = 2 / 3 + gg - rr;\n    }\n\n    if (h < 0) {\n      h += 1;\n    } else if (h > 1) {\n      h -= 1;\n    }\n  }\n\n  return {\n    h: Math.round(h * 360),\n    s: Math.round(s * 100),\n    v: Math.round(v * 100)\n  };\n};\n/*\n\tRGBToHCL:\n\t\tr: 0-255\n\t\tg: 0-255\n\t\tb: 0-255\n*/\n\n/**/\n\n/**/\n\n\nUTILS.RGBToHCL = function (r, g, b) {\n  r = r || 255;\n  g = g || 255;\n  b = b || 255;\n  var Y0 = 100;\n  var gamma = 3;\n  /*r = r / 255;\n  g = g / 255;\n  b = b / 255;*/\n\n  var result = {\n    H: 0,\n    C: 0,\n    L: 0\n  };\n  var min = Math.min(r, g, b);\n  var max = Math.max(r, g, b);\n\n  if (max == 0) {\n    return result;\n  }\n\n  var alpha = min / max / Y0;\n  var Q = Math.exp(alpha * gamma);\n  var rg = r - g;\n  var gb = g - b;\n  var br = b - r;\n  var L = (Q * max + (1 - Q) * min) / 2;\n  var C = Q * (Math.abs(rg) + Math.abs(gb) + Math.abs(br)) / 3;\n  var H = UTILS.toDegrees(Math.atan2(gb, rg));\n\n  if (rg < 0) {\n    if (gb >= 0) {\n      H = 90 + H;\n    } else {\n      H = H - 90;\n    }\n  }\n\n  result.H = H;\n  result.C = C;\n  result.L = L;\n  return result;\n};\n\nUTILS.HSVtoRGB = function (h, s, v) {\n  var r, g, b, i, f, p, q, t;\n\n  if (arguments.length === 1) {\n    var _h = h,\n        _h2 = _slicedToArray(_h, 3),\n        h = _h2[0],\n        s = _h2[1],\n        v = _h2[2]; //s = h.s v = h.v, h = h.h;\n\n  }\n\n  i = Math.floor(h * 6);\n  f = h * 6 - i;\n  p = v * (1 - s);\n  q = v * (1 - f * s);\n  t = v * (1 - (1 - f) * s);\n\n  switch (i % 6) {\n    case 0:\n      r = v;\n      g = t;\n      b = p;\n      break;\n\n    case 1:\n      r = q;\n      g = v;\n      b = p;\n      break;\n\n    case 2:\n      r = p;\n      g = v;\n      b = t;\n      break;\n\n    case 3:\n      r = p;\n      g = q;\n      b = v;\n      break;\n\n    case 4:\n      r = t;\n      g = p;\n      b = v;\n      break;\n\n    case 5:\n      r = v;\n      g = p;\n      b = q;\n      break;\n  }\n\n  return {\n    r: Math.round(r * 255),\n    g: Math.round(g * 255),\n    b: Math.round(b * 255)\n  };\n};\n/*Max distance: 360 */\n\n\nUTILS.cycldistance = function (hcl1, hcl2) {\n  var dl = hcl1.L - hcl2.L;\n  var dh = Math.abs(hcl1.H - hcl2.H);\n  var c1 = hcl1.C;\n  var c2 = hcl2.C;\n  return Math.sqrt(dl * dl + c1 * c1 + c2 * c2 - 2 * c1 * c2 * Math.cos(UTILS.toRadians(dh)));\n};\n\nUTILS.distance_hcl = function (hcl1, hcl2) {\n  var Al = 1.4456;\n  var c1 = hcl1.C;\n  var c2 = hcl2.C;\n  var Dh = Math.abs(hcl1.H - hcl2.H);\n\n  if (Dh > 180) {\n    Dh = 360 - Dh;\n  }\n\n  var AlDl = Al * Math.abs(hcl1.L - hcl2.L);\n  return Math.sqrt(AlDl * AlDl + (c1 * c1 + c2 * c2 - 2 * c1 * c2 * Math.cos(UTILS.toRadians(Dh))));\n};\n\nUTILS.HSVtoRGBnumber = function (h, s, v) {\n  var rgbObj = UTILS.HSVtoRGB(h, s, v);\n  var rString = rgbObj.r.toString(16);\n  var gString = rgbObj.g.toString(16);\n  var bString = rgbObj.b.toString(16);\n  rString = \"0\".repeat(2 - rString.length) + rString;\n  gString = \"0\".repeat(2 - gString.length) + gString;\n  bString = \"0\".repeat(2 - bString.length) + bString;\n  return parseInt(\"0x\" + rString + gString + bString, 16);\n};\n\nUTILS.RGBtoXYZ = function (color) {\n  var result = {};\n  var r = color.r / 255;\n  var g = color.g / 255;\n  var b = color.b / 255;\n\n  if (r > 0.04045) {\n    r = (r + 0.055) / 1.055;\n    r = Math.pow(r, 2.4);\n  } else {\n    r = r / 12.92;\n  }\n\n  if (g > 0.04045) {\n    g = (g + 0.055) / 1.055;\n    g = Math.pow(g, 2.4);\n  } else {\n    g = g / 12.92;\n  }\n\n  if (b > 0.04045) {\n    b = (b + 0.055) / 1.055;\n    b = Math.pow(b, 2.4);\n  } else {\n    b = b / 12.92;\n  }\n\n  r *= 100;\n  r *= 100;\n  r *= 100; //Matrix\n\n  result.x = r * 0.4124 + g * 0.3576 + b * 0.1805;\n  result.y = r * 0.2126 + g * 0.7152 + b * 0.0722;\n  result.z = r * 0.0193 + g * 0.1192 + b * 0.9505;\n  return result;\n};\n\nUTILS.hexToRGB = function (hexString) {\n  hexString = hexString.replace(\"#\", \"\");\n\n  if (hexString.length < 6) {\n    hexString = hexString.concat(\"0\".repeat(6 - hexString.length));\n  }\n\n  var result = {\n    r: 0,\n    g: 0,\n    b: 0\n  };\n\n  if (hexString.length != 6) {\n    return result;\n  }\n\n  result.r = parseInt(\"0x\" + hexString.slice(0, 2));\n  result.g = parseInt(\"0x\" + hexString.slice(2, 4));\n  result.b = parseInt(\"0x\" + hexString.slice(4, 6));\n  return result;\n};\n\nUTILS.rgbToHex = function (r, g, b) {\n  r = Number(r).toString(16);\n  r = r.length == 1 ? \"0\" + r : r;\n  g = Number(g).toString(16);\n  g = g.length == 1 ? \"0\" + g : g;\n  b = Number(b).toString(16);\n  b = b.length == 1 ? \"0\" + b : b;\n  return \"#\" + r + g + b;\n};\n\nUTILS.rgbToNumber = function (r, g, b) {\n  r = Number(r).toString(16);\n  r = r.length == 1 ? \"0\" + r : r;\n  g = Number(g).toString(16);\n  g = g.length == 1 ? \"0\" + g : g;\n  b = Number(b).toString(16);\n  b = b.length == 1 ? \"0\" + b : b;\n  return parseInt(\"0x\" + r + g + b);\n};\n\nUTILS.getCenterData = function (imageWidth, imageHeight, canvasWidth, canvasHeight) {\n  var scaleX = canvasWidth / imageWidth;\n  var scaleY = canvasHeight / imageHeight;\n  var scale = scaleX <= scaleY ? scaleX : scaleY;\n  imageWidth = imageWidth * scale;\n  imageHeight = imageHeight * scale;\n  var x = (canvasWidth - imageWidth) / 2;\n  var y = (canvasHeight - imageHeight) / 2;\n  return {\n    x: x,\n    y: y,\n    width: imageWidth,\n    height: imageHeight,\n    scale: scale\n  };\n};\n\nUTILS.getBlackAndWitheLayers = function (canvas) {\n  var blackCanvas = document.createElement(\"canvas\");\n  blackCanvas.width = canvas.width;\n  blackCanvas.height = canvas.height;\n  var blackCtx = blackCanvas.getContext('2d');\n  var blackImageData = blackCtx.getImageData(0, 0, canvas.width, canvas.height);\n  var blackBuffer = new Uint32Array(blackImageData.data.buffer);\n  var whiteCanvas = document.createElement(\"canvas\");\n  whiteCanvas.width = canvas.width;\n  whiteCanvas.height = canvas.height;\n  var whiteCtx = whiteCanvas.getContext('2d');\n  var whiteImageData = whiteCtx.getImageData(0, 0, canvas.width, canvas.height);\n  var whiteBuffer = new Uint32Array(whiteImageData.data.buffer);\n  var ctx = canvas.getContext('2d');\n  var canvasBuffer = new Uint32Array(ctx.getImageData(0, 0, canvas.width, canvas.height).data.buffer);\n  var totalOfPixels = canvasBuffer.length;\n\n  for (var i = 0; i < totalOfPixels; i++) {\n    var pixelUint32 = canvasBuffer[i];\n\n    var _RGBUtils$numberToRGB = RGBUtils.numberToRGBA(pixelUint32),\n        r = _RGBUtils$numberToRGB.r,\n        g = _RGBUtils$numberToRGB.g,\n        b = _RGBUtils$numberToRGB.b,\n        a = _RGBUtils$numberToRGB.a;\n\n    var hsv = UTILS.rgb2hsv(r, g, b);\n    var blackRGBAPixel = {\n      r: 0,\n      g: 0,\n      b: 0,\n      a: 255 / 100 * (100 - hsv.v)\n    };\n    whiteBuffer[i] = RGBUtils.RGBAToNumber(255, 255, 255, 255 / 100 * hsv.v);\n    blackBuffer[i] = RGBUtils.RGBAToNumber(0, 0, 0, 255 / 100 * (100 - hsv.v));\n  }\n\n  blackCtx.putImageData(blackImageData, 0, 0);\n  whiteCtx.putImageData(whiteImageData, 0, 0);\n  return {\n    blackLayer: blackCanvas,\n    whiteLayer: whiteCanvas\n  };\n};\n/*UTILS.getShadowsAndLights=function(canvas){\n    var shadowsCanvas=document.createElement(\"canvas\");\n    shadowsCanvas.width=canvas.width;\n    shadowsCanvas.height=canvas.height;\n    var shadowCtx=shadowsCanvas.getContext('2d');\n    var ligthsCanvas=document.createElement(\"canvas\");\n    ligthsCanvas.width=canvas.width;\n    ligthsCanvas.height=canvas.height;\n    var ligthsCtx=ligthsCanvas.getContext('2d');\n    var ctx=canvas.getContext('2d');\n    var imgData=ctx.getImageData(0,0,canvas.width,canvas.height);\n    var pixels=imgData.data;\n    var totalPixelData=pixels.length;\n    var shadowsImageData=ctx.getImageData(0,0,canvas.width,canvas.height);\n    var lightsImageData=ctx.getImageData(0,0,canvas.width,canvas.height);\n    var shadowsPixels=shadowsImageData.data;\n    var lightsPixels=lightsImageData.data;\n\n    for(var i=0;i<totalPixelData;i++){\n        //Pregunto si no es transparente\n        if(pixels[i+3]>0){\n            var hsv=UTILS.rgb2hsv(pixels[i],pixels[i+1],pixels[i+2]);\n            shadowsPixels[i] =0;\n            shadowsPixels[i+1]=0;\n            shadowsPixels[i+2]=0;\n            shadowsPixels[i+3]=(255/100)*(100-hsv.v);\n\n            lightsPixels[i] =255;\n            lightsPixels[i+1]=255;\n            lightsPixels[i+2]=255;\n            lightsPixels[i+3]=(255/100)*hsv.v;\n\n        }\n        i+=3;\n    }\n    shadowCtx.putImageData(shadowsImageData,0,0);\n    ligthsCtx.putImageData(lightsImageData,0,0);\n    console.log(shadowsCanvas.toDataURL());\n    console.log(ligthsCanvas.toDataURL());\n    return {\n        shadows:shadowsCanvas,\n        ligths:ligthsCanvas\n    }\n}*/\n\n\nUTILS.toDegrees = function (n) {\n  return n * 180 / Math.PI;\n};\n\nUTILS.toRadians = function (n) {\n  return n * Math.PI / 180;\n};\n\nUTILS.distance2d = function (point1, point2) {\n  var x1 = point1.x,\n      y1 = point1.y;\n  var x2 = point2.x,\n      y2 = point2.y;\n  return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2) * 1);\n};\n\nUTILS.middlePoint = function (point1, point2) {\n  var x = (point1.x + point2.x) / 2;\n  var y = (point1.y + point2.y) / 2;\n  return {\n    x: x,\n    y: y\n  };\n};\n/*\n* USAGE\n* UTILS.numberToRGB(0xFF0000) return: {r:255,g:0,b:0}\n* */\n\n\nUTILS.numberToRGB = function (number) {\n  var r = number >> 16 & 0xFF;\n  var g = number >> 8 & 0xFF;\n  var b = number & 0xFF;\n  return {\n    r: r,\n    g: g,\n    b: b\n  };\n};\n\nUTILS.RGBToNumber = function (r, g, b) {\n  return r << 16 | g << 8 | b;\n};\n\nexport default UTILS;","import * as PIXI from 'pixi.js';\n\nvar MagnifyingGlass = function MagnifyingGlass(width, height, renderer, displayObject, zoom) {\n  var _this = this;\n\n  this.zoom = zoom || 2;\n  this.displayObject = displayObject;\n  this.renderer = renderer;\n  this.__width = width;\n  this.__height = height;\n  this.renderTexture = PIXI.RenderTexture.create(width, height);\n  this.cropRenderTexture = PIXI.RenderTexture.create(width, height);\n  this.cropSprite = new PIXI.Sprite(this.cropRenderTexture);\n  PIXI.Sprite.call(this, this.renderTexture);\n  this.graphics = new PIXI.Graphics();\n  this.graphics.beginFill(0x666666, 1);\n  this.graphics.drawRect(0, 0, width, height);\n  this.graphics.endFill();\n  this.point = null;\n  var borderGraphics = new PIXI.Graphics();\n\n  this.update = function (p) {\n    renderer.render(_this.graphics, _this.renderTexture, true);\n    var p = p || {\n      x: _this.x + _this.__width / 2,\n      y: _this.y + _this.__height / 2\n    };\n    var matrix = new PIXI.Matrix();\n    var position = getCropPositionData(p, _this.__width, _this.__height, _this.zoom);\n    matrix.translate(position.x, position.y);\n    renderer.render(_this.displayObject, _this.cropRenderTexture, true, matrix);\n    /* const cropedPixels = renderer.extract.pixels(this.cropRenderTexture)\n     let midelPointX = Math.round(this.__width/2)\n     let midelPointY = Math.round(this.__height/2)\n     const index = (midelPointY * this.__width + midelPointX) * 4;\n     const red = cropedPixels[index].toString(16)\n     const green = cropedPixels[index+1].toString(16)\n     const blue = cropedPixels[index+2].toString(16)\n     const hexColor = (red.length == 1 ? `0${red}` : red) + (green.length == 1 ? `0${green}` : green) + (blue.length == 1 ? `0${blue}` : blue)\n     redrawBorder(parseInt(hexColor,16))*/\n\n    matrix = new PIXI.Matrix();\n    matrix.scale(_this.zoom, _this.zoom);\n    renderer.render(_this.cropSprite, _this.renderTexture, false, matrix); //renderer.render(borderGraphics,this.renderTexture,false)\n  };\n\n  var redrawBorder = function redrawBorder(color) {\n    color = color || 0xFF0000;\n    borderGraphics.clear();\n    borderGraphics.lineStyle(20, 0x666666, 1);\n    borderGraphics.drawRect(0, 0, _this.__width, _this.__height);\n    borderGraphics.endFill();\n    borderGraphics.lineStyle(0);\n    borderGraphics.beginFill(color, 1);\n    borderGraphics.drawRect(_this.__width / 2 - 5, _this.__height / 2 - 5, 10, 10);\n    borderGraphics.endFill();\n  };\n\n  var getCropPositionData = function getCropPositionData(point, width, height, zoom) {\n    var result = {};\n    width = width / zoom;\n    height = height / zoom;\n    result.x = point.x - width / 2;\n    result.y = point.y - height / 2;\n    result.x = result.x * -1;\n    result.y = result.y * -1;\n    return result;\n  };\n\n  this.setPivot = function (position) {\n    switch (position) {\n      case MagnifyingGlass.TOP:\n        _this.pivot.set(_this.__width / 2, _this.__height);\n\n        break;\n\n      case MagnifyingGlass.TOP_RIGHT:\n        _this.pivot.set(0, _this.__height);\n\n        break;\n\n      case MagnifyingGlass.RIGHT:\n        _this.pivot.set(0, _this.__height / 2);\n\n        break;\n\n      case MagnifyingGlass.BOTTOM_RIGHT:\n        _this.pivot.set(0, 0);\n\n        break;\n\n      case MagnifyingGlass.BOTTOM:\n        _this.pivot.set(_this.__width / 2, 0);\n\n        break;\n\n      case MagnifyingGlass.BOTTOM_LEFT:\n        _this.pivot.set(_this.__width, 0);\n\n        break;\n\n      case MagnifyingGlass.LEFT:\n        _this.pivot.set(_this.__width, _this.__height / 2);\n\n        break;\n\n      case MagnifyingGlass.TOP_LEFT:\n        _this.pivot.set(_this.__width, _this.__height);\n\n        break;\n\n      default:\n        _this.pivot.set(_this.__width / 2, _this.__height / 2);\n\n        break;\n    }\n  };\n\n  this.setPoint = function (p) {//this.point=point;\n  };\n\n  return this;\n};\n\nMagnifyingGlass.prototype = Object.create(PIXI.Sprite.prototype);\nMagnifyingGlass.TOP = 1;\nMagnifyingGlass.TOP_RIGHT = 2;\nMagnifyingGlass.RIGHT = 3;\nMagnifyingGlass.BOTTOM_RIGHT = 4;\nMagnifyingGlass.BOTTOM = 5;\nMagnifyingGlass.BOTTOM_LEFT = 6;\nMagnifyingGlass.LEFT = 7;\nMagnifyingGlass.TOP_LEFT = 8;\nexport default MagnifyingGlass;","import _classCallCheck from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport * as PIXI from 'pixi.js';\nimport UTILS from \"./Utils\";\nimport RGBUtils from \"wayak-rgb-utils\";\n\nvar Layer =\n/*#__PURE__*/\nfunction (_PIXI$Container) {\n  _inherits(Layer, _PIXI$Container);\n\n  function Layer(width, height, name, id, blackLayerTexture, whiteLayerTexture) {\n    var _this;\n\n    _classCallCheck(this, Layer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Layer).call(this));\n    _this.name = name;\n    _this.layerID = id;\n    _this.rendererWidth = width;\n    _this.rendererHeight = height;\n    _this.renderTexture = PIXI.RenderTexture.create(_this.rendererWidth, _this.rendererHeight);\n    _this.drawMask = new PIXI.Sprite(_this.renderTexture);\n    _this.drawMask.cacheAsBitmap = false;\n    _this.drawMask.renderable = true;\n    _this.colorLayer = new PIXI.Graphics();\n    _this.whiteLayerSprite = new PIXI.Sprite(whiteLayerTexture);\n    _this.whiteLayerSprite.alpha = .3;\n    _this.blackLayerSprite = new PIXI.Sprite(blackLayerTexture);\n    _this.blackLayerSprite.alpha = .7;\n    _this.whiteLayerSprite.mask = _this.drawMask;\n    _this.blackLayerSprite.mask = _this.drawMask;\n    _this.colorLayer.mask = _this.drawMask;\n    _this.currentColor = 0xFF0000;\n\n    _this.addChild(_this.colorLayer);\n\n    _this.addChild(_this.whiteLayerSprite);\n\n    _this.addChild(_this.blackLayerSprite);\n\n    _this.addChild(_this.drawMask);\n\n    _this.redrawColor();\n\n    _this.rebuildColorsInfos();\n\n    return _this;\n  }\n\n  _createClass(Layer, [{\n    key: \"redrawColor\",\n    value: function redrawColor() {\n      this.colorLayer.clear();\n      this.colorLayer.beginFill(this.currentColor, 1);\n      this.colorLayer.drawRect(0, 0, this.rendererWidth, this.rendererHeight);\n      this.colorLayer.endFill();\n    }\n  }, {\n    key: \"rebuildColorsInfos\",\n    value: function rebuildColorsInfos() {\n      this.currentHexColor = this.currentColor.toString(16);\n\n      if (this.currentHexColor.length < 6) {\n        this.currentHexColor = \"0\".repeat(6 - this.currentHexColor.length).concat(this.currentHexColor);\n      }\n\n      this.currentRGBColor = RGBUtils.numberToRGB(this.currentColor);\n      var _this$currentRGBColor = this.currentRGBColor,\n          r = _this$currentRGBColor.r,\n          g = _this$currentRGBColor.g,\n          b = _this$currentRGBColor.b;\n      this.currentHSVColor = UTILS.rgb2hsv(r, g, b);\n    }\n  }, {\n    key: \"cleanForDestroy\",\n    value: function cleanForDestroy() {\n      this.removeChild(this.drawMask);\n      this.drawMask.destroy(true, true);\n\n      if (this.image) {\n        this.removeChild(this.image);\n        this.image.destroy(true, true);\n      }\n    }\n  }, {\n    key: \"color\",\n    set: function set(color) {\n      this.currentColor = color;\n      this.rebuildColorsInfos();\n      this.redrawColor();\n    },\n    get: function get() {\n      return this.currentColor;\n    }\n  }, {\n    key: \"whiteLevel\",\n    set: function set(level) {\n      this.whiteLayerSprite.alpha = level;\n    },\n    get: function get() {\n      return this.whiteLayerSprite.alpha;\n    }\n  }, {\n    key: \"blackLevel\",\n    set: function set(level) {\n      this.blackLayerSprite.alpha = level;\n    },\n    get: function get() {\n      return this.blackLayerSprite.alpha;\n    }\n  }, {\n    key: \"info\",\n    get: function get() {\n      return {\n        id: this.layerID,\n        name: this.name,\n        color: this.currentColor,\n        hexColor: this.currentHexColor,\n        rgbColor: this.currentRGBColor,\n        hsvColor: this.currentHSVColor,\n        whiteLevel: this.whiteLevel,\n        blackLevel: this.blackLevel\n      };\n    }\n  }]);\n\n  return Layer;\n}(PIXI.Container);\n\nexport default Layer;","import * as PIXI from 'pixi.js';\n\nvar SelectionPixelsCtrl = function SelectionPixelsCtrl(width, height, pixiApp) {\n  var _this = this;\n\n  var drawRect = function drawRect(g, width, height, color) {\n    g.beginFill(color, 1);\n    g.drawRect(0, 0, width, height);\n    g.endFill();\n  };\n\n  this.setSelection = function (displayObject, x, y) {\n    _this.isSelction = true;\n    x = x || 0;\n    y = y || 0;\n    drawRect(_this.clearGraphics, _this.width, _this.height, SelectionPixelsCtrl.REMOVE_COLOR);\n    pixiApp.renderer.render(_this.clearGraphics, _this.selectionTexture, true, null); //this.selectionTexture.render(this.clearGraphics,null,true);\n\n    if (x != 0 || y != 0) {\n      var matrix = new PIXI.Matrix();\n      matrix.translate(x, y);\n      pixiApp.renderer.render(displayObject, _this.selectionTexture, true, matrix); //this.selectionTexture.render(displayObject,matrix);\n\n      drawMaskInCanvas(_this.selectionTexture, _this.imgDataUI, _this.ctxUI);\n\n      _this.uiTexture.update();\n\n      return;\n    }\n\n    pixiApp.renderer.render(displayObject, _this.selectionTexture); //this.selectionTexture.render(displayObject);\n\n    drawMaskInCanvas(_this.selectionTexture, _this.imgDataUI, _this.ctxUI);\n\n    _this.uiTexture.update();\n  };\n\n  var drawMaskInCanvas = function drawMaskInCanvas(texture, pixelData, canvasCtx) {\n    var texturePixels = pixiApp.renderer.extract.pixels(texture);\n    var total = texturePixels.length;\n\n    for (var i = 0; i < total; i++) {\n      pixelData.data[i] = 255;\n      pixelData.data[i + 1] = 0;\n      pixelData.data[i + 2] = 0;\n      pixelData.data[i + 3] = Math.floor((255 - texturePixels[i]) * .3);\n      i += 3;\n    }\n\n    canvasCtx.putImageData(pixelData, 0, 0);\n  };\n\n  this.clearSelection = function () {\n    _this.isSelction = false;\n    drawRect(_this.clearGraphics, _this.width, _this.height, SelectionPixelsCtrl.ADD_COLOR);\n    pixiApp.renderer.render(_this.clearGraphics, _this.selectionTexture, true); //this.selectionTexture.render(this.clearGraphics,null,true);\n\n    _this.ctxUI.clearRect(0, 0, _this.canvasUI.width, _this.canvasUI.height);\n\n    _this.uiTexture.update();\n  };\n\n  this.draw = function (displayObject, x, y, layer) {\n    var matrix = new PIXI.Matrix();\n    matrix.translate(x, y);\n    var renderer = _this.pixiApp.renderer;\n\n    if (!_this.isSelction) {\n      renderer.render(displayObject, layer.renderTexture, false, matrix);\n      return;\n    }\n\n    renderer.render(displayObject, _this.canvasTexture, false, matrix); //this.canvasTexture.render(displayObject,matrix);\n\n    renderer.render(_this.container, layer.renderTexture, false); //layer.renderTexture.render(this.container);\n\n    renderer.render(_this.blankObj, _this.canvasTexture, true); //this.canvasTexture.render(this.blankObj,null,true);\n  };\n\n  this.width = width;\n  this.height = height;\n  this.pixiApp = pixiApp; //this.renderer = PIXI.autoDetectRenderer()\n\n  this.isSelction = false;\n  this.clearGraphics = new PIXI.Graphics();\n  this.selectionTexture = PIXI.RenderTexture.create(this.width, this.height);\n  this.selectionSprite = new PIXI.Sprite(this.selectionTexture);\n  this.canvasTexture = PIXI.RenderTexture.create(this.width, this.height);\n  this.canvasSprite = new PIXI.Sprite(this.canvasTexture);\n  this.container = new PIXI.Container();\n  this.canvasSprite.mask = this.selectionSprite;\n  this.container.addChild(this.canvasSprite);\n  this.container.addChild(this.selectionSprite);\n  this.blankObj = new PIXI.Container();\n  this.canvasUI = document.createElement(\"canvas\");\n  this.ctxUI = this.canvasUI.getContext(\"2d\");\n  this.canvasUI.width = width;\n  this.canvasUI.height = height; // this.uiBaseTexture = PIXI.BaseTexture.from(this.canvasUI)\n\n  this.uiTexture = PIXI.Texture.from(this.canvasUI);\n  this.uiSprite = new PIXI.Sprite(this.uiTexture);\n  this.imgDataUI = this.ctxUI.getImageData(0, 0, width, height);\n  this.clearSelection();\n  return this;\n};\n\nSelectionPixelsCtrl.ADD_COLOR = 0xFF0000;\nSelectionPixelsCtrl.REMOVE_COLOR = 0x000000;\nexport default SelectionPixelsCtrl;","import _classCallCheck from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport * as PIXI from \"pixi.js\";\n\nvar BaseDrawTool =\n/*#__PURE__*/\nfunction () {\n  function BaseDrawTool(boarCtrl) {\n    _classCallCheck(this, BaseDrawTool);\n\n    this.boarCtrl = boarCtrl;\n    this.pixiApp = boarCtrl.pixiApp;\n    this.selectionCtrl = boarCtrl.selectionCtrl;\n    this.uiRenderTexture = boarCtrl.uiRenderTexture;\n    this.add = true;\n    this.baseCanvas = boarCtrl.baseCanvas;\n    this.layer = null;\n  }\n\n  _createClass(BaseDrawTool, [{\n    key: \"mouseDown\",\n    value: function mouseDown(pos) {}\n  }, {\n    key: \"mouseUp\",\n    value: function mouseUp(pos) {}\n  }, {\n    key: \"mouseMove\",\n    value: function mouseMove(pos) {}\n  }, {\n    key: \"setActive\",\n    value: function setActive(layer, scale) {}\n  }, {\n    key: \"onPhotoScaleChange\",\n    value: function onPhotoScaleChange(scale) {}\n  }, {\n    key: \"setToAdd\",\n    value: function setToAdd() {\n      if (this.add === true) {\n        return;\n      }\n\n      this.add = true;\n      this.onAddChange();\n    }\n  }, {\n    key: \"setToRemove\",\n    value: function setToRemove() {\n      if (this.add === false) {\n        return;\n      }\n\n      this.add = false;\n      this.onAddChange();\n    }\n  }, {\n    key: \"onSelectedLayerPropsChange\",\n    value: function onSelectedLayerPropsChange() {}\n  }, {\n    key: \"onAddChange\",\n    value: function onAddChange() {}\n  }, {\n    key: \"defaultColorToPaint\",\n    get: function get() {\n      return this.add === true ? BaseDrawTool.ADD_COLOR : BaseDrawTool.REMOVE_COLOR;\n    }\n  }]);\n\n  return BaseDrawTool;\n}();\n\nBaseDrawTool.REMOVE_COLOR = 0x000000;\nBaseDrawTool.ADD_COLOR = 0xff0000;\nBaseDrawTool.BLANK_DISPLAY_OBJ = new PIXI.Container();\nexport default BaseDrawTool;","import _classCallCheck from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport * as PIXI from 'pixi.js';\nimport BaseDrawTool from \"./BaseDrawTool\";\n\nvar ToolBrush =\n/*#__PURE__*/\nfunction (_BaseDrawTool) {\n  _inherits(ToolBrush, _BaseDrawTool);\n\n  function ToolBrush(boarCtrl) {\n    var _this;\n\n    _classCallCheck(this, ToolBrush);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ToolBrush).call(this, boarCtrl));\n    _this.size = 50;\n    _this.uiSize = 0;\n    _this.uiScale = 1;\n    _this.drawing = false;\n    _this.brushTexture = PIXI.RenderTexture.create({\n      width: 1,\n      height: 1,\n      scaleMode: PIXI.SCALE_MODES.LINEAR\n    });\n    _this.brushSprite = new PIXI.Sprite(_this.brushTexture);\n    _this.brushUISprite = new PIXI.Graphics();\n    _this.hardness = 1;\n    _this.size = 50;\n\n    _this.setSize(50);\n\n    return _this;\n  }\n\n  _createClass(ToolBrush, [{\n    key: \"addPoint\",\n    value: function addPoint(p) {\n      if (!this.layer) {\n        return;\n      }\n\n      var width = this.brushSprite.texture.width;\n      this.selectionCtrl.draw(this.brushSprite, p.x - width / 2, p.y - width / 2, this.layer);\n    }\n  }, {\n    key: \"setActive\",\n    value: function setActive(layer, scale) {\n      this.uiScale = scale || 1;\n\n      if (this.layer == layer) {\n        return;\n      }\n\n      if (layer != null) {\n        this.layer = layer;\n        this.redrawBrush();\n        this.redrawUIBrush();\n      } else {\n        this.layer = null;\n        this.pixiApp.renderer.render(BaseDrawTool.BLANK_DISPLAY_OBJ, this.uiRenderTexture);\n      }\n    }\n  }, {\n    key: \"mouseDown\",\n    value: function mouseDown(pos) {\n      if (!this.layer) {\n        return;\n      }\n\n      this.drawing = true;\n      this.addPoint(this.layer.toLocal(pos));\n    }\n  }, {\n    key: \"mouseUp\",\n    value: function mouseUp(pos) {\n      this.drawing = false;\n    }\n  }, {\n    key: \"mouseMove\",\n    value: function mouseMove(pos) {\n      if (this.layer != null) {\n        var matrix = new PIXI.Matrix();\n        matrix.translate(pos.x, pos.y);\n        this.pixiApp.renderer.render(this.brushUISprite, this.uiRenderTexture, true, matrix);\n\n        if (this.drawing) {\n          var m = this.layer.toLocal(pos);\n          this.addPoint(m);\n        }\n      }\n    }\n  }, {\n    key: \"onAddChange\",\n    value: function onAddChange() {\n      this.redrawBrush();\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize(size) {\n      this.size = size;\n      this.redrawBrush();\n      this.redrawUIBrush();\n    }\n  }, {\n    key: \"setHardness\",\n    value: function setHardness(val) {\n      val = val > 1 ? 1 : val;\n      val = val < 0 ? 0 : val;\n      this.hardness = val;\n      this.redrawBrush();\n      this.redrawUIBrush();\n    }\n  }, {\n    key: \"redrawBrush\",\n    value: function redrawBrush() {\n      var radius = this.size / 2;\n      var blurSize = this.size * .8 * (1 - this.hardness);\n      var realSize = (radius + blurSize) * 2;\n      ToolBrush.CIRCLE_GRAPHICS.beginFill(this.add === true ? BaseDrawTool.ADD_COLOR : 0x000000);\n      ToolBrush.CIRCLE_GRAPHICS.beginFill(this.defaultColorToPaint);\n      ToolBrush.CIRCLE_GRAPHICS.drawCircle(radius + blurSize, radius + blurSize, radius);\n      ToolBrush.CIRCLE_GRAPHICS.endFill();\n      ToolBrush.BLUR_FILTER.blur = blurSize;\n      ToolBrush.CIRCLE_GRAPHICS.filters = [ToolBrush.BLUR_FILTER];\n      this.brushTexture.resize(realSize, realSize, true);\n      this.pixiApp.renderer.render(ToolBrush.CIRCLE_GRAPHICS, this.brushTexture, true);\n      ToolBrush.CIRCLE_GRAPHICS.clear();\n      ToolBrush.CIRCLE_GRAPHICS.filters = [];\n      this.uiSize = realSize;\n    }\n  }, {\n    key: \"redrawUIBrush\",\n    value: function redrawUIBrush() {\n      this.brushUISprite.clear();\n      this.brushUISprite.beginFill(0x69DCFF, 0);\n      this.brushUISprite.lineStyle(1, 0x69DCFF, 1);\n      this.brushUISprite.drawCircle(0, 0, this.uiSize / 2 * this.uiScale);\n      this.brushUISprite.endFill();\n    }\n  }, {\n    key: \"onPhotoScaleChange\",\n    value: function onPhotoScaleChange(scale) {\n      this.uiScale = scale;\n      this.redrawUIBrush();\n    }\n  }]);\n\n  return ToolBrush;\n}(BaseDrawTool);\n\nToolBrush.BLUR_FILTER = new PIXI.filters.BlurFilter(0, 32);\nToolBrush.CIRCLE_GRAPHICS = new PIXI.Graphics();\nexport default ToolBrush;","import _classCallCheck from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport * as PIXI from 'pixi.js';\nimport BaseDrawTool from \"./BaseDrawTool\";\n\nvar ToolSelectionPolygon =\n/*#__PURE__*/\nfunction (_BaseDrawTool) {\n  _inherits(ToolSelectionPolygon, _BaseDrawTool);\n\n  function ToolSelectionPolygon(ctrl) {\n    var _this;\n\n    _classCallCheck(this, ToolSelectionPolygon);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ToolSelectionPolygon).call(this, ctrl));\n    _this.uiGraphic = new PIXI.Graphics();\n    _this.layerPoints = [];\n    _this.globalPoints = [];\n    _this.mousePoint = null;\n    return _this;\n  }\n\n  _createClass(ToolSelectionPolygon, [{\n    key: \"setActive\",\n    value: function setActive(layer, scale) {\n      console.log(this.pixiApp.renderer);\n      var renderer = this.pixiApp.renderer;\n\n      if (this.layer == layer) {\n        return;\n      }\n\n      renderer.render(BaseDrawTool.BLANK_DISPLAY_OBJ, this.uiRenderTexture, true, null);\n\n      if (layer != null) {\n        this.layer = layer;\n      } else {\n        this.layer = null;\n        renderer.render(BaseDrawTool.BLANK_DISPLAY_OBJ, this.uiRenderTexture, true, null);\n        this.cancel();\n      }\n    }\n  }, {\n    key: \"mouseDown\",\n    value: function mouseDown(pos) {\n      if (this.layer == null) {\n        return;\n      }\n\n      this.mousePoint = {\n        x: pos.x,\n        y: pos.y\n      };\n      this.redrawUI();\n    }\n  }, {\n    key: \"mouseUp\",\n    value: function mouseUp(pos) {\n      if (this.layer == null || this.mousePoint == null) {\n        return;\n      }\n\n      if (this.selectionCtrl.isSelction) {\n        this.selectionCtrl.clearSelection();\n        return;\n      }\n\n      var globalPoint = new PIXI.Point(this.mousePoint.x, this.mousePoint.y);\n      this.globalPoints.push(globalPoint);\n      this.layerPoints.push(this.layer.toLocal(globalPoint));\n\n      if (this.globalPoints.length > 1) {\n        var dx = pos.x - this.globalPoints[0].x;\n        var dy = pos.y - this.globalPoints[0].y;\n        var dist = Math.sqrt(dx * dx + dy * dy);\n\n        if (dist < 50) {\n          this.mousePoint = null;\n          this.finishPolygon();\n        }\n      }\n    }\n  }, {\n    key: \"mouseMove\",\n    value: function mouseMove(pos) {\n      if (this.mousePoint != null) {\n        this.mousePoint.x = pos.x;\n        this.mousePoint.y = pos.y;\n        this.redrawUI();\n      }\n    }\n  }, {\n    key: \"redrawUI\",\n    value: function redrawUI() {\n      this.uiGraphic.clear();\n      this.uiGraphic.beginFill(0x69DCFF, .3);\n      this.uiGraphic.lineStyle(1, 0x69DCFF, 1);\n\n      if (this.globalPoints.length == 0) {\n        if (this.mousePoint != null) {\n          this.uiGraphic.drawCircle(this.mousePoint.x, this.mousePoint.y, 5);\n          this.uiGraphic.endFill();\n          this.pixiApp.renderer.render(this.uiGraphic, this.uiRenderTexture, true, null); //this.UIRenderTexture.render(this.uiGraphic,null,true);\n        }\n\n        return;\n      }\n\n      this.uiGraphic.moveTo(this.globalPoints[0].x, this.globalPoints[0].y);\n      var size = this.globalPoints.length;\n\n      for (var i = 1; i < size; i++) {\n        this.uiGraphic.lineTo(this.globalPoints[i].x, this.globalPoints[i].y);\n      }\n\n      this.uiGraphic.lineTo(this.mousePoint.x, this.mousePoint.y);\n      this.uiGraphic.endFill();\n      this.uiGraphic.drawCircle(this.globalPoints[0].x, this.globalPoints[0].y, 5);\n      this.uiGraphic.endFill();\n      this.pixiApp.renderer.render(this.uiGraphic, this.uiRenderTexture, true, null); //this.UIRenderTexture.render(this.uiGraphic,null,true);\n    }\n  }, {\n    key: \"finishPolygon\",\n    value: function finishPolygon() {\n      this.uiGraphic.clear();\n      this.uiGraphic.beginFill(this.defaultColorToPaint, 1);\n      this.uiGraphic.lineStyle(0);\n      this.uiGraphic.moveTo(this.layerPoints[0].x, this.layerPoints[0].y);\n      var size = this.layerPoints.length;\n\n      for (var i = 1; i < size; i++) {\n        this.uiGraphic.lineTo(this.layerPoints[i].x, this.layerPoints[i].y);\n      }\n\n      this.uiGraphic.endFill();\n      this.layerPoints.length = 0;\n      this.globalPoints.length = 0;\n      this.selectionCtrl.setSelection(this.uiGraphic);\n      this.cancel();\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      this.layerPoints.length = 0;\n      this.globalPoints.length = 0;\n      this.uiGraphic.clear();\n\n      if (this.layer) {\n        this.pixiApp.renderer.render(BaseDrawTool.BLANK_DISPLAY_OBJ, this.uiRenderTexture, true, null); //this.UIRenderTexture.render(this.blankObj,null,true);\n      }\n    }\n  }, {\n    key: \"onPhotoScaleChange\",\n    value: function onPhotoScaleChange(scale) {\n      if (!this.layer) {\n        return;\n      }\n\n      if (this.globalPoints.length > 0 && this.layerPoints.length > 0) {\n        /*FIX GLOBAL POINTS*/\n        var size = this.layerPoints.length;\n        this.globalPoints.length = 0;\n\n        for (var i = 0; i < size; i++) {\n          this.globalPoints.push(this.layer.toGlobal(this.layerPoints[i]));\n        }\n\n        this.redrawUI();\n      }\n    }\n  }]);\n\n  return ToolSelectionPolygon;\n}(BaseDrawTool);\n/*const ToolSelectionPolygon = function (UIRenderTexture,selectionCtrl,pixiApp) {\n\n    this.setActive = (layer) => {\n        const renderer = pixiApp.renderer\n        if(this.layer==layer || this.UIRenderTexture==null){return;}\n        renderer.render(this.blankObj, this.UIRenderTexture,true,null)\n        //this.UIRenderTexture.render(this.blankObj,null,true);\n        if(layer!=null){\n            this.layer=layer;\n            this.active=true;\n        }else{\n            this.layer=null;\n            renderer.render(this.blankObj, this.UIRenderTexture,true,null)\n            //this.UIRenderTexture.render(this.blankObj,null,true);\n            this.active=false;\n            this.cancel();\n        }\n\n    };\n\n\n    this.setToRemove = ()=>{\n        this.add=false;\n    };\n\n    this.setToAdd=()=>{\n        this.add=true;\n    };\n\n    this.MouseDown=(mouse)=>{\n        if(!this.active){return;}\n        if(this.layer==null){return;}\n        this.mousePoint={x:mouse.x,y:mouse.y}\n        this.redrawUI();\n        //this.addPoint(this.layer.toLocal(mouse));\n    };\n\n    this.MouseUp=(mouse)=>{\n        if(this.layer==null || this.mousePoint==null){return;}\n        if(this.selectionCtrl.isSelction){\n            this.selectionCtrl.clearSelection();\n            return;\n        }\n        var globalPoint=new PIXI.Point(this.mousePoint.x,this.mousePoint.y);\n        this.globalPoints.push(globalPoint);\n        this.layerPoints.push(this.layer.toLocal(globalPoint));\n\n        if(this.globalPoints.length>1){\n            var dx=mouse.x-this.globalPoints[0].x;\n            var dy=mouse.y-this.globalPoints[0].y;\n            var dist = Math.sqrt( dx*dx + dy*dy );\n            if(dist<50){\n                this.mousePoint=null;\n                this.finishPolygon();\n            }\n        }\n    };\n\n    this.MouseMove=(mouse)=>{\n        if(this.mousePoint!=null){\n            this.mousePoint.x=mouse.x;\n            this.mousePoint.y=mouse.y;\n            this.redrawUI();\n        }\n\n    };\n\n\n    this.redrawUI=()=>{\n        this.uiGraphic.clear();\n        this.uiGraphic.beginFill(0x69DCFF,.3);\n        this.uiGraphic.lineStyle(1,0x69DCFF,1);\n\n        if(this.globalPoints.length==0){\n            if(this.mousePoint!=null){\n                this.uiGraphic.drawCircle(this.mousePoint.x, this.mousePoint.y,5);\n                this.uiGraphic.endFill();\n                pixiApp.renderer.render(this.uiGraphic,this.UIRenderTexture,true,null)\n                //this.UIRenderTexture.render(this.uiGraphic,null,true);\n            }\n            return;\n        }\n        this.uiGraphic.moveTo(this.globalPoints[0].x,this.globalPoints[0].y);\n        var size=this.globalPoints.length;\n        for(var i=1;i<size;i++){\n            this.uiGraphic.lineTo(this.globalPoints[i].x,this.globalPoints[i].y);\n        }\n\n        this.uiGraphic.lineTo(this.mousePoint.x,this.mousePoint.y);\n        this.uiGraphic.endFill();\n\n\n\n        this.uiGraphic.drawCircle(this.globalPoints[0].x, this.globalPoints[0].y,5);\n        this.uiGraphic.endFill();\n        pixiApp.renderer.render(this.uiGraphic,this.UIRenderTexture,true,null)\n        //this.UIRenderTexture.render(this.uiGraphic,null,true);\n\n    };\n\n    this.finishPolygon=()=>{\n        var color= this.add==true ? 0xFF0000 : 0x000000;\n        this.uiGraphic.clear();\n        this.uiGraphic.beginFill(color,1);\n        this.uiGraphic.lineStyle(0);\n\n        this.uiGraphic.moveTo(this.layerPoints[0].x,this.layerPoints[0].y);\n        var size=this.layerPoints.length;\n        for(var i=1;i<size;i++){\n            this.uiGraphic.lineTo(this.layerPoints[i].x,this.layerPoints[i].y);\n        }\n\n        this.uiGraphic.endFill();\n\n        this.layerPoints.length=0;\n        this.globalPoints.length=0;\n        this.selectionCtrl.setSelection(this.uiGraphic);\n        this.cancel();\n    };\n\n    this.cancel=()=>{\n        this.layerPoints.length=0;\n        this.globalPoints.length=0;\n        this.uiGraphic.clear();\n        if(this.active){\n            pixiApp.renderer.render(this.blankObj,this.UIRenderTexture,true,null)\n            //this.UIRenderTexture.render(this.blankObj,null,true);\n        }\n    };\n\n    this.onPhotoScaleChange=(scale,r)=>{\n        if(this.globalPoints.length>0 && this.layerPoints.length>0){\n            /*FIX GLOBAL POINTS*/\n\n/*var size=this.layerPoints.length;\nthis.globalPoints.length=0;\nfor(var i=0;i<size;i++){\n    this.globalPoints.push(this.layer.toGlobal(this.layerPoints[i]));\n}\nthis.redrawUI();\n}\n};\n\nthis.UIRenderTexture=UIRenderTexture;\nthis.selectionCtrl=selectionCtrl;\nthis.uiGraphic=new PIXI.Graphics();\nthis.add=true;\nthis.active=false;\nthis.blankObj=new PIXI.Container();\nthis.typeOfTool=BoardController.TYPE_TOOL_SELECTION;\nthis.layerPoints=[];\nthis.globalPoints=[];\nthis.mousePoint=null;\n}*/\n\n\nexport default ToolSelectionPolygon;","import _classCallCheck from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport * as PIXI from \"pixi.js\";\nimport UTILS from \"../Utils\";\nimport PixelsSelector from \"wayak-pixels-selector\";\nimport BaseDrawTool from \"./BaseDrawTool\";\n\nvar ToolSelectionMagicWand =\n/*#__PURE__*/\nfunction (_BaseDrawTool) {\n  _inherits(ToolSelectionMagicWand, _BaseDrawTool);\n\n  function ToolSelectionMagicWand(ctrl) {\n    var _this;\n\n    _classCallCheck(this, ToolSelectionMagicWand);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ToolSelectionMagicWand).call(this, ctrl));\n    _this.tolerance = 100;\n    _this.baseWidth = _this.baseCanvas.width;\n    _this.baseHeight = _this.baseCanvas.height;\n    _this.uiHelper = new ToolSelectionMagicWandUIHelper(_this.baseWidth, _this.baseHeight, _this.pixiApp.renderer, _this.uiRenderTexture);\n    ToolSelectionMagicWand.CANVAS.width = _this.baseWidth;\n    ToolSelectionMagicWand.CANVAS.height = _this.baseHeight;\n    ToolSelectionMagicWand.CTX.drawImage(_this.baseCanvas, 0, 0, _this.baseWidth, _this.baseHeight);\n    _this.isDraging = false;\n    _this.previewLayer = new MagicWandPreviewLayer(_this.baseWidth, _this.baseHeight, _this.pixiApp.renderer, _this.boarCtrl.blackLayerTexture, _this.boarCtrl.whiteLayerTexture);\n    _this.layersVisibleInfo = [];\n    return _this;\n  }\n\n  _createClass(ToolSelectionMagicWand, [{\n    key: \"setActive\",\n    value: function setActive(layer) {\n      if (this.layer == layer) {\n        return;\n      }\n\n      this.pixiApp.renderer.render(BaseDrawTool.BLANK_DISPLAY_OBJ, this.uiRenderTexture, true);\n\n      if (layer != null) {\n        this.layer = layer;\n        this.previewLayer.setLayer(this.layer);\n        this.previewLayer.setColor(layer.color);\n        this.previewLayer.setDarkLevel(layer.blackLevel);\n        this.previewLayer.setWhiteLevel(layer.whiteLevel);\n        this.hideLayers();\n        this.boarCtrl.layersContainer.addChild(this.previewLayer);\n      } else {\n        this.layer = null;\n        this.pixiApp.renderer.render(BaseDrawTool.BLANK_DISPLAY_OBJ, this.uiRenderTexture, true);\n        this.uiHelper.clearPoint();\n        this.showLayers();\n        this.boarCtrl.layersContainer.removeChild(this.previewLayer);\n        this.previewLayer.clear(); //renderer.render(blankObj,previewLayer.renderTexture,true)\n      }\n    }\n  }, {\n    key: \"setTolerance\",\n    value: function setTolerance(val, autoFill) {\n      val = Math.round(val);\n      val = val < 0 ? 0 : val;\n      val = val > 200 ? 200 : val;\n      this.tolerance = val;\n\n      if (autoFill) {\n        this.fillFromPickedColor();\n      }\n    }\n  }, {\n    key: \"getTolerance\",\n    value: function getTolerance() {\n      return this.tolerance;\n    }\n  }, {\n    key: \"hideLayers\",\n    value: function hideLayers() {\n      for (var i in this.boarCtrl.layers) {\n        var l = this.boarCtrl.layers[i];\n        this.layersVisibleInfo.push(l.visible);\n        l.visible = false;\n      }\n    }\n  }, {\n    key: \"showLayers\",\n    value: function showLayers() {\n      for (var i in this.boarCtrl.layers) {\n        this.boarCtrl.layers[i].visible = this.layersVisibleInfo[i];\n      }\n\n      this.layersVisibleInfo.length = 0;\n    }\n  }, {\n    key: \"onAddChange\",\n    value: function onAddChange() {\n      this.fillFromPickedColor();\n    }\n  }, {\n    key: \"mouseDown\",\n    value: function mouseDown(pos) {\n      if (this.layer == null) {\n        return;\n      }\n\n      if (this.uiHelper.point == null) {\n        var localPoint = this.layer.toLocal(pos);\n        var color = PixelsSelector.getPixelInfo(Math.round(localPoint.x), Math.round(localPoint.y), ToolSelectionMagicWand.CANVAS);\n        this.uiHelper.addPoint(pos, localPoint, color.uint32);\n      }\n\n      if (UTILS.distance2d(pos, this.uiHelper.point.uiPoint) <= this.uiHelper.pointRadius) {\n        this.isDraging = true;\n      }\n    }\n  }, {\n    key: \"mouseMove\",\n    value: function mouseMove(pos) {\n      var x = pos.x,\n          y = pos.y;\n\n      if (this.isDraging) {\n        var localPoint = this.layer.toLocal(pos);\n        var color = PixelsSelector.getPixelInfo(Math.round(localPoint.x), Math.round(localPoint.y), ToolSelectionMagicWand.CANVAS);\n        this.uiHelper.movePoint({\n          x: x,\n          y: y\n        }, localPoint, color.uint32);\n      }\n    }\n  }, {\n    key: \"mouseUp\",\n    value: function mouseUp(pos) {\n      if (this.layer && this.isDraging === true) {\n        if (this.boarCtrl.magicWandCallBack) {\n          this.boarCtrl.magicWandCallBack();\n        }\n\n        this.fillFromPickedColor();\n      }\n\n      this.isDraging = false;\n    }\n  }, {\n    key: \"onPhotoScaleChange\",\n    value: function onPhotoScaleChange(scale) {\n      if (this.layer && this.uiHelper.point) {\n        this.uiHelper.point.uiPoint = this.layer.toGlobal(this.uiHelper.point.layerPoint);\n        this.uiHelper.render();\n      }\n    }\n  }, {\n    key: \"fillFromPickedColor\",\n    value: function fillFromPickedColor() {\n      if (this.layer === null || this.uiHelper.point === null || this.uiHelper.point === undefined) {\n        return;\n      }\n\n      var point = this.uiHelper.point.layerPoint;\n      var result = PixelsSelector.floodFill(Math.round(point.x), Math.round(point.y), ToolSelectionMagicWand.CANVAS, this.tolerance, this.defaultColorToPaint);\n      this.previewLayer.putImageData(result);\n    }\n  }, {\n    key: \"apply\",\n    value: function apply() {\n      this.selectionCtrl.draw(this.previewLayer.selectedPixelsSprite, 0, 0, this.layer);\n      this.previewLayer.clear();\n      this.previewLayer.setLayer(this.layer);\n      this.pixiApp.renderer.render(BaseDrawTool.BLANK_DISPLAY_OBJ, this.uiRenderTexture, true);\n      this.uiHelper.clearPoint();\n    }\n  }, {\n    key: \"onSelectedLayerPropsChange\",\n    value: function onSelectedLayerPropsChange() {\n      this.previewLayer.setColor(this.layer.color);\n      this.previewLayer.setDarkLevel(this.layer.blackLevel);\n      this.previewLayer.setWhiteLevel(this.layer.whiteLevel);\n    }\n  }]);\n\n  return ToolSelectionMagicWand;\n}(BaseDrawTool);\n\nToolSelectionMagicWand.CANVAS = document.createElement(\"canvas\");\nToolSelectionMagicWand.CTX = ToolSelectionMagicWand.CANVAS.getContext(\"2d\");\n\nvar ToolSelectionMagicWandUIHelper = function ToolSelectionMagicWandUIHelper(width, height, renderer, renderTexture) {\n  var _this2 = this;\n\n  this.pointRadius = 20;\n  /*\n  * uiPoint : point for UIrenderer (global position)\n  * layerPoint: point in layer (local position)\n  * color: number\n  * */\n\n  this.addPoint = function (uiPoint, layerPoint, color) {\n    var graphics = new PIXI.Graphics();\n    redrawPoint(graphics, color);\n    _this2.point = {\n      uiPoint: uiPoint,\n      layerPoint: layerPoint,\n      color: color,\n      graphics: graphics\n    };\n    var matrix = new PIXI.Matrix();\n    matrix.translate(uiPoint.x, uiPoint.y);\n    renderer.render(graphics, renderTexture, false, matrix);\n  };\n\n  this.movePoint = function (uiPoint, layerPoint, newColor) {\n    if (_this2.point == null) {\n      return;\n    }\n\n    _this2.point.uiPoint = uiPoint;\n    _this2.point.layerPoint = layerPoint;\n\n    if (_this2.point.color != newColor) {\n      _this2.point.color = newColor;\n      redrawPoint(_this2.point.graphics, newColor);\n    }\n\n    _this2.render();\n  };\n  /*\n  * pointGraphics : PIXI.Graphics\n  * */\n\n\n  var redrawPoint = function redrawPoint(pointGraphics, color) {\n    pointGraphics.clear();\n    pointGraphics.beginFill(color, 1);\n    pointGraphics.lineStyle(3, 0xFFFFFF, 1);\n    pointGraphics.drawCircle(0, 0, _this2.pointRadius);\n    pointGraphics.endFill();\n    pointGraphics.beginFill(color, 0);\n    pointGraphics.lineStyle(1, 0x000000, 1);\n    pointGraphics.drawCircle(0, 0, _this2.pointRadius);\n    pointGraphics.endFill();\n  };\n\n  this.render = function () {\n    var point = _this2.point;\n    var matrix = new PIXI.Matrix();\n    matrix.translate(point.uiPoint.x, point.uiPoint.y);\n    renderer.render(point.graphics, renderTexture, true, matrix);\n  };\n\n  this.clearPoint = function () {\n    if (_this2.point === null) {\n      return;\n    }\n\n    _this2.point.graphics.destroy();\n\n    _this2.point = null;\n  };\n};\n\nvar MagicWandPreviewLayer = function MagicWandPreviewLayer(width, height, pixiRenderer, blackLayerTexture, whiteLayerTexture) {\n  var _this3 = this;\n\n  var redrawColor = function redrawColor() {\n    colorLayer.clear();\n    colorLayer.beginFill(_this3.currentColor, 1);\n    colorLayer.drawRect(0, 0, width, height);\n    colorLayer.endFill();\n  };\n\n  this.whiteLevel = .5;\n  this.darkLevel = .5;\n  PIXI.Container.call(this);\n  var canvas = document.createElement(\"canvas\");\n  canvas.width = width;\n  canvas.height = height;\n  var ctx = canvas.getContext(\"2d\"); //this.layer = null\n\n  /*\n  * this.brushTexture=PIXI.Texture.from(this.brushCanvas, {scaleMode:PIXI.SCALE_MODES.LINEAR});\n  this.brushSprite=new PIXI.Sprite(this.brushTexture);\n  * */\n\n  var selectedPixelsTexture = PIXI.Texture.from(canvas, {\n    scaleMode: PIXI.SCALE_MODES.LINEAR\n  });\n  this.selectedPixelsSprite = new PIXI.Sprite(selectedPixelsTexture); //const drawMask=new PIXI.Sprite(texture);\n\n  var maskTexture = PIXI.RenderTexture.create({\n    width: width,\n    height: height\n  });\n  var drawMask = new PIXI.Sprite(maskTexture);\n  drawMask.cacheAsBitmap = false;\n  drawMask.renderable = true;\n  var colorLayer = new PIXI.Graphics();\n  var lightsSprite = new PIXI.Sprite(whiteLayerTexture); //this.lightsSprite.cacheAsBitmap=true;\n\n  lightsSprite.alpha = this.whiteLevel;\n  var shadowsSprite = new PIXI.Sprite(blackLayerTexture); //this.shadowsSprite.cacheAsBitmap=false;\n\n  shadowsSprite.alpha = this.darkLevel;\n  lightsSprite.mask = drawMask;\n  shadowsSprite.mask = drawMask;\n  colorLayer.mask = drawMask;\n  this.currentColor = 0xFF0000;\n  this.addChild(colorLayer);\n  this.addChild(lightsSprite);\n  this.addChild(shadowsSprite);\n  this.addChild(drawMask);\n  redrawColor();\n\n  this.setColor = function (color) {\n    _this3.currentColor = color;\n    redrawColor();\n  };\n\n  this.setWhiteLevel = function (level) {\n    lightsSprite.alpha = level;\n    _this3.whiteLevel = lightsSprite.alpha;\n  };\n\n  this.setDarkLevel = function (level) {\n    shadowsSprite.alpha = level;\n    _this3.darkLevel = shadowsSprite.alpha;\n  };\n\n  this.putImageData = function (imageData) {\n    ctx.putImageData(imageData, 0, 0);\n    selectedPixelsTexture.update();\n    var sp = new PIXI.Sprite(_this3.layer.renderTexture);\n    pixiRenderer.render(sp, maskTexture, true);\n    pixiRenderer.render(_this3.selectedPixelsSprite, maskTexture, false);\n    sp.destroy({\n      texture: false,\n      baseTexture: false\n    });\n  };\n\n  this.setLayer = function (layer) {\n    _this3.layer = layer;\n    var sp = new PIXI.Sprite(_this3.layer.renderTexture);\n    pixiRenderer.render(sp, maskTexture, true);\n    sp.destroy({\n      texture: false,\n      baseTexture: false\n    });\n  };\n\n  this.clear = function () {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    selectedPixelsTexture.update();\n    pixiRenderer.render(BaseDrawTool.BLANK_DISPLAY_OBJ, maskTexture, true);\n  };\n\n  return this;\n};\n\nMagicWandPreviewLayer.prototype = Object.create(PIXI.Container.prototype);\nexport default ToolSelectionMagicWand;","import _regeneratorRuntime from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/machado/WebstormProjects/color-replace-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport * as PIXI from 'pixi.js';\nimport UTILS from \"./Utils\";\nimport MagnifyingGlass from \"./UI/MagnifyingGlass\";\nimport Layer from \"./Layer\";\nimport SelectionPixelsCtrl from \"./DrawTools/SelectionPixelsCtrl\";\nimport ToolBrush from \"./DrawTools/ToolBrush\";\nimport ToolSelectionPolygon from \"./DrawTools/ToolSelectionPolygon\";\nimport ToolSelectionMagicWand from \"./DrawTools/ToolSelectionMagicWand\";\n\nfunction _loadImage(src) {\n  return new Promise(function (resolve, reject) {\n    var img = new Image();\n    img.addEventListener(\"load\", function () {\n      return resolve(img);\n    });\n    img.addEventListener(\"error\", function (err) {\n      return reject(err);\n    });\n    img.src = src;\n  });\n}\n\n;\n/** Class representing a controller for board. \"new BoardController()\" */\n\nvar BoardController =\n/*#__PURE__*/\nfunction () {\n  /**\n   * The BoardController.TOOL_BRUSH is a identifier for a brush tool\n   * @static\n   */\n\n  /**\n   * The BoardController.TOOL_MAGIC_WAND is a identifier for a magic wand tool\n   * @static\n   */\n\n  /**\n   * The BoardController.TOOL_POLYGON is a identifier for a polygon tool\n   * @static\n   */\n\n  /**\n   * The BoardController.TOOLS is array with all tools\n   * @static\n   */\n\n  /**\n   * Create BoardController instance\n   * @constructs BoardController\n   * @function\n   */\n  function BoardController() {\n    var _this = this;\n\n    _classCallCheck(this, BoardController);\n\n    this.onScrollE = function (e, v) {\n      var x = e.offsetX;\n      var y = e.offsetY;\n      var deltaY = e.deltaY;\n\n      if (deltaY < 0) {\n        _this.zoomIn(deltaY * -1, x, y);\n      } else {\n        _this.zoomOut(deltaY, x, y);\n      }\n    };\n\n    this.touchStart = function (event) {\n      var touches = event.targetTouches;\n\n      if (touches.length === 1) {\n        var position = getPositionFromTouch(touches[0]);\n        _this.timerForPinchToZoomGesture = setTimeout(function () {\n          _this.mouseDown({\n            offsetX: position.x,\n            offsetY: position.y\n          });\n        }, 100);\n        return;\n      }\n      /*PREVENT PAINT WHEN PINCH TO ZOOM*/\n\n\n      if (_this.timerForPinchToZoomGesture) {\n        clearTimeout(_this.timerForPinchToZoomGesture);\n      }\n\n      if (touches.length === 2) {\n        _this.lastPinchGestureData = makeNewPinchGestureData(touches[0], touches[1]);\n      }\n    };\n\n    this.touchMove = function (event) {\n      var touches = event.targetTouches;\n\n      if (touches.length === 1) {\n        var position = getPositionFromTouch(touches[0]);\n\n        _this.mouseMove({\n          offsetX: position.x,\n          offsetY: position.y\n        });\n\n        return;\n      }\n      /*PINCH TO ZOOM LOGIC*/\n\n\n      if (touches.length === 2 && _this.lastPinchGestureData) {\n        var pinchGestureData = makeNewPinchGestureData(touches[0], touches[1]);\n        var movX = pinchGestureData.middlePoint.x - _this.lastPinchGestureData.middlePoint.x;\n        var movY = pinchGestureData.middlePoint.y - _this.lastPinchGestureData.middlePoint.y;\n        var scale = pinchGestureData.distance / _this.lastPinchGestureData.distance;\n\n        var pivot = _this.photoAndLayersContainer.toLocal(_this.lastPinchGestureData.middlePoint);\n\n        _this.photoAndLayersContainer.pivot.set(pivot.x, pivot.y);\n\n        _this.photoAndLayersContainer.position.set(_this.lastPinchGestureData.middlePoint.x, _this.lastPinchGestureData.middlePoint.y);\n\n        scale = _this.photoAndLayersContainer.scale.x * scale;\n\n        _this.photoAndLayersContainer.scale.set(scale, scale);\n\n        var _this$photoAndLayersC = _this.photoAndLayersContainer,\n            x = _this$photoAndLayersC.x,\n            y = _this$photoAndLayersC.y;\n\n        _this.photoAndLayersContainer.position.set(x + movX, y + movY);\n\n        _this.lastPinchGestureData = pinchGestureData;\n\n        _this.updateToolUI();\n      }\n    };\n\n    this.touchEnd = function (event) {\n      _this.lastPinchGestureData = null;\n\n      _this.mouseUp({\n        offsetX: null,\n        offsetY: null\n      });\n    };\n\n    this.touchCancel = function (event) {\n      console.log(\"touchCancel\", event);\n    };\n\n    this.mouseDown = function (event) {\n      var pos = {\n        x: event.offsetX,\n        y: event.offsetY\n      };\n      _this.lastMousePointClicked = pos;\n      console.log(\"mouseDown\", pos); //var pos=event.data.global;\n\n      if (_this.currentTool) {\n        _this.currentTool.mouseDown(pos);\n      }\n    };\n\n    this.mouseUp = function (event) {\n      var pos = {\n        x: event.offsetX,\n        y: event.offsetY\n      };\n\n      if (_this.currentTool) {\n        _this.currentTool.mouseUp(pos);\n\n        console.log(\"MOUSEUP _____------_____\");\n      }\n\n      _this.lastMousePointClicked = null;\n    };\n\n    this.mouseMove = function (event) {\n      var pos = {\n        x: event.offsetX,\n        y: event.offsetY\n      };\n\n      if (_this.currentTool) {\n        _this.currentTool.mouseMove(pos);\n      } else if (_this.lastMousePointClicked) {\n        var movX = pos.x - _this.lastMousePointClicked.x;\n        var movY = pos.y - _this.lastMousePointClicked.y;\n        var _this$photoAndLayersC2 = _this.photoAndLayersContainer,\n            x = _this$photoAndLayersC2.x,\n            y = _this$photoAndLayersC2.y;\n\n        _this.photoAndLayersContainer.position.set(x + movX, y + movY);\n\n        _this.lastMousePointClicked = pos;\n      }\n\n      if (_this.glass && _this.glass.visible) {\n        _this.glass.update(pos);\n\n        _this.glass.position.x = pos.x;\n        _this.glass.position.y = pos.y;\n      }\n    };\n\n    this.setWhiteLevelToSelectedLayer = function (val) {\n      if (!_this.currentLayer) {\n        return;\n      } //console.log(\"setLightToSelectedLayer: \"+val*.001);\n\n\n      _this.currentLayer.whiteLevel = val * .01; //this.currentLayer.setWhiteLevel(val*.01);\n\n      if (_this.currentTool) {\n        _this.currentTool.onSelectedLayerPropsChange();\n      }\n\n      return _this.currentLayer.info;\n    };\n\n    this.layerCount = 0;\n    this.layers = [];\n    this.currentLayer = null;\n    this.currentTool = null;\n    this.pixelRatio = window.devicePixelRatio || 1;\n    this.screenWidth = window.screen.width * this.pixelRatio;\n    this.screenHeight = window.screen.height * this.pixelRatio;\n    this.uiRenderTexture = PIXI.RenderTexture.create(this.screenWidth, this.screenHeight);\n    this.uiSprite = new PIXI.Sprite(this.uiRenderTexture);\n    this.magicWandCallBack = null;\n    this.timerForPinchToZoomGesture = null;\n    this.lastPinchGestureData = null;\n    this.lastMousePointClicked = null;\n  }\n  /**\n   * load the base image and start all the context of the boardController.\n   *\n   * @async\n   * @function loadImage\n   * @param {(Window | HTMLElement)} containerHTMLElement - the container element for the board canvas\n   * @param {string} url - The URL to download the base image.\n   * @param {Int} maxSize - OPTIONAL maximum size for the base image\n   * @return {Promise<Canvas>} the html canvas instance of the board.\n   * @example\n   * boardControllerInstance.loadImage(htmlElement,imageURL,900).then((canvas)=>{\n   *    htmlElement.appendChild(canvas)\n   * })\n   */\n\n\n  _createClass(BoardController, [{\n    key: \"loadImage\",\n    value: function () {\n      var _loadImage2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(containerHTMLElement, url, maxSize) {\n        var image, base, texture, blackWhiteLayers, centerData;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.containerHTMLElement = containerHTMLElement;\n                _context.next = 3;\n                return _loadImage(url);\n\n              case 3:\n                image = _context.sent;\n                this.buildBaseCanvas(image, maxSize);\n                base = PIXI.BaseTexture.from(this.baseCanvas);\n                texture = new PIXI.Texture(base);\n                this.photoWidth = this.baseCanvas.width;\n                this.photoHeight = this.baseCanvas.height;\n                blackWhiteLayers = UTILS.getBlackAndWitheLayers(this.baseCanvas);\n                this.blackLayerTexture = PIXI.Texture.from(blackWhiteLayers.blackLayer);\n                this.whiteLayerTexture = PIXI.Texture.from(blackWhiteLayers.whiteLayer);\n                centerData = UTILS.getCenterData(this.baseCanvas.width, this.baseCanvas.height, this.containerHTMLElement.clientWidth, this.containerHTMLElement.clientHeight);\n                this.initSizes = centerData;\n                this.photoSprite = new PIXI.Sprite(texture);\n                return _context.abrupt(\"return\", this.startPixi());\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function loadImage(_x, _x2, _x3) {\n        return _loadImage2.apply(this, arguments);\n      }\n\n      return loadImage;\n    }()\n  }, {\n    key: \"buildBaseCanvas\",\n    value: function buildBaseCanvas(image, maxSize) {\n      var scale = 1;\n\n      if (maxSize && (maxSize < image.width || maxSize < image.height)) {\n        var scaleX = maxSize / image.width;\n        var scaleY = maxSize / image.height;\n        scale = scaleX < scaleY ? scaleX : scaleY;\n      }\n\n      var canvas = document.createElement(\"canvas\");\n      canvas.width = Math.round(image.width * scale);\n      canvas.height = Math.round(image.height * scale);\n      var ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(image, 0, 0, canvas.width, canvas.height);\n      this.baseCanvas = canvas;\n    }\n  }, {\n    key: \"startPixi\",\n    value: function startPixi() {\n      this.pixiApp = new PIXI.Application({\n        autoDensity: true,\n        resizeTo: this.containerHTMLElement,\n        transparent: true,\n        antialias: true,\n        resolution: window.devicePixelRatio || 1\n      });\n      this.pixiApp.stage.interactive = true;\n      this.selectionCtrl = new SelectionPixelsCtrl(this.photoWidth, this.photoHeight, this.pixiApp); //BoardController.TOOLS[\"BRUSH\"]=new ToolBrush(this.uiRenderTexture,this.selectionCtrl,this.pixiApp,this);\n\n      BoardController.TOOLS[BoardController.TOOL_BRUSH] = new ToolBrush(this); //BoardController.TOOLS[\"EREASE\"]=new ToolBrush(this.uiRenderTexture,this.selectionCtrl,this.pixiApp);\n      //BoardController.TOOLS[\"EREASE\"].setToRemove();\n\n      BoardController.TOOLS[BoardController.TOOL_POLYGON] = new ToolSelectionPolygon(this); //BoardController.TOOLS[\"SELECTION_POLYGON\"]=new ToolSelectionPolygon(this.uiRenderTexture,this.selectionCtrl,this.pixiApp);\n      //BoardController.TOOLS[\"SELECTION_MAGIC_WAND\"]=new ToolSelectionMagicWand(this.uiRenderTexture,this.selectionCtrl,this.photoImage,this.pixiApp);\n\n      BoardController.TOOLS[BoardController.TOOL_MAGIC_WAND] = new ToolSelectionMagicWand(this);\n      this.buildContainer();\n      this.pixiApp.start();\n      return this.pixiApp.view;\n    }\n  }, {\n    key: \"buildContainer\",\n    value: function buildContainer() {\n      this.container = new PIXI.Container();\n      this.photoAndLayersContainer = new PIXI.Container();\n      this.layersContainer = new PIXI.Container();\n      this.container.addChild(this.photoAndLayersContainer);\n      this.photoAndLayersContainer.addChild(this.photoSprite);\n      this.photoAndLayersContainer.addChild(this.layersContainer);\n      this.photoAndLayersContainer.addChild(this.selectionCtrl.uiSprite);\n      this.container.addChild(this.uiSprite);\n      this.pixiApp.stage.addChild(this.container);\n      this.container.interactive = true;\n      this.pixiApp.view.onwheel = this.onScrollE;\n      this.pixiApp.view.addEventListener(\"mousedown\", this.mouseDown);\n      this.pixiApp.view.addEventListener(\"touchstart\", this.touchStart);\n      this.pixiApp.view.addEventListener(\"mouseup\", this.mouseUp);\n      this.pixiApp.view.addEventListener(\"touchend\", this.touchEnd);\n      this.pixiApp.view.addEventListener(\"touchcancel\", this.touchCancel);\n      this.pixiApp.view.addEventListener(\"mousemove\", this.mouseMove);\n      this.pixiApp.view.addEventListener(\"touchmove\", this.touchMove);\n      this.photoAndLayersContainer.scale.set(this.initSizes.scale, this.initSizes.scale);\n      this.photoAndLayersContainer.position.set(this.initSizes.x, this.initSizes.y); //this.photoAndLayersContainer.addChild(this.selectionCtrl.selectionSprite);\n    }\n    /**\n     * return tools values\n     *\n     * @function getToolsValues\n     * @return {Array} Associative Array\n     * @example\n     * // return [\n     * //             BoardController.TOOL_BRUSH : {size:0,hardness:0,type:1 ( 1 = paint,0 = erease )},\n     * //             BoardController.TOOL_MAGIC_WAND : {tolerance:0,type:1 ( 1 = paint,0 = erease )},\n     * //             ]\n     * boardControllerInstance.loadImage(htmlElement,imageURL,900).then((canvas)=>{\n     *   htmlElement.appendChild(canvas)\n     * })\n     */\n\n  }, {\n    key: \"getToolsValues\",\n    value: function getToolsValues() {\n      if (!this.toolsValues) {\n        this.toolsValues = [];\n        this.toolsValues[BoardController.TOOL_BRUSH] = {}; //this.toolsValues[\"EREASE\"]={};\n\n        this.toolsValues[BoardController.TOOL_MAGIC_WAND] = {};\n      }\n\n      this.toolsValues[BoardController.TOOL_BRUSH].size = BoardController.TOOLS[BoardController.TOOL_BRUSH].size;\n      this.toolsValues[BoardController.TOOL_BRUSH].hardness = 100 * BoardController.TOOLS[BoardController.TOOL_BRUSH].hardness;\n      this.toolsValues[BoardController.TOOL_BRUSH].type = BoardController.TOOLS[BoardController.TOOL_BRUSH].add ? 1 : 0; //this.toolsValues[\"EREASE\"].size=BoardController.TOOLS[\"EREASE\"].size;\n      //this.toolsValues[\"EREASE\"].hardness=100*BoardController.TOOLS[\"EREASE\"].hardness;\n\n      this.toolsValues[BoardController.TOOL_MAGIC_WAND].tolerance = BoardController.TOOLS[BoardController.TOOL_MAGIC_WAND].getTolerance();\n      this.toolsValues[BoardController.TOOL_MAGIC_WAND].type = BoardController.TOOLS[BoardController.TOOL_MAGIC_WAND].add ? 1 : 0;\n      return this.toolsValues;\n    }\n    /**\n     * Set the size of the brush tool\n     *\n     * @function setBrushSize\n     * @param {Int} val - the new size of the brush\n     * @example\n     * boardControllerInstance.setBrushSize(20) // the brush size now is 20px\n     */\n\n  }, {\n    key: \"setBrushSize\",\n    value: function setBrushSize(val) {\n      BoardController.TOOLS[BoardController.TOOL_BRUSH].setSize(val);\n    }\n    /**\n     * Set the hardness of the brush tool\n     *\n     * @function setBrushHardness\n     * @param {Int} val - the new hardness value of the brush (0-100)\n     * @example\n     * boardControllerInstance.setBrushHardness(20) // the brush size now is 20\n     */\n\n  }, {\n    key: \"setBrushHardness\",\n    value: function setBrushHardness(val) {\n      BoardController.TOOLS[BoardController.TOOL_BRUSH].setHardness(val * .01);\n    }\n    /**\n     * Configure the brush tool to paint on the selected layer\n     *\n     * @function setBrushToAdd\n     */\n\n  }, {\n    key: \"setBrushToAdd\",\n    value: function setBrushToAdd() {\n      BoardController.TOOLS[BoardController.TOOL_BRUSH].setToAdd();\n    }\n    /**\n     * Configure the brush tool to erease on the selected layer\n     *\n     * @function setBrushToRemove\n     */\n\n  }, {\n    key: \"setBrushToRemove\",\n    value: function setBrushToRemove() {\n      BoardController.TOOLS[BoardController.TOOL_BRUSH].setToRemove();\n    }\n    /**\n     * Configure the magic wand tool with new tolerance\n     *\n     * @function setMagicWandTolerance\n     * @param {Int} val - the new tolerance value  (1-200)\n     */\n\n  }, {\n    key: \"setMagicWandTolerance\",\n    value: function setMagicWandTolerance(val) {\n      BoardController.TOOLS[BoardController.TOOL_MAGIC_WAND].setTolerance(val);\n    }\n    /**\n     * Allows you to see the result of the magic wand tool without even applying the changes\n     *\n     * @function fillMagicWand\n     */\n\n  }, {\n    key: \"fillMagicWand\",\n    value: function fillMagicWand() {\n      BoardController.TOOLS[BoardController.TOOL_MAGIC_WAND].fillFromPickedColor();\n    }\n    /**\n     * Configure the magic wand tool to paint on the selected layer\n     *\n     * @function setMagicWandToAdd\n     */\n\n  }, {\n    key: \"setMagicWandToAdd\",\n    value: function setMagicWandToAdd() {\n      BoardController.TOOLS[BoardController.TOOL_MAGIC_WAND].setToAdd();\n    }\n    /**\n     * Configure the magic wand tool to erease on the selected layer\n     *\n     * @function setMagicWandToRemove\n     */\n\n  }, {\n    key: \"setMagicWandToRemove\",\n    value: function setMagicWandToRemove() {\n      BoardController.TOOLS[BoardController.TOOL_MAGIC_WAND].setToRemove();\n    }\n    /**\n     * Apply the results of the magic wand tool in the selected layer\n     *\n     * @function applyMagicWandToSelectedLayer\n     */\n\n  }, {\n    key: \"applyMagicWandToSelectedLayer\",\n    value: function applyMagicWandToSelectedLayer() {\n      BoardController.TOOLS[BoardController.TOOL_MAGIC_WAND].apply();\n    }\n  }, {\n    key: \"zoomIn\",\n    value: function zoomIn(delta, x, y) {\n      var scale = delta * .01;\n      scale = this.photoAndLayersContainer.scale.x + scale;\n      var pivot = this.photoAndLayersContainer.toLocal(new PIXI.Point(x, y));\n      var position = this.photoAndLayersContainer.toGlobal(pivot);\n      this.photoAndLayersContainer.pivot.set(pivot.x, pivot.y);\n      this.photoAndLayersContainer.position.set(position.x, position.y);\n      this.photoAndLayersContainer.scale.set(scale, scale);\n      this.updateToolUI();\n    }\n  }, {\n    key: \"zoomOut\",\n    value: function zoomOut(delta, x, y) {\n      var scale = delta * .01;\n      scale = this.photoAndLayersContainer.scale.x - scale;\n      var minScale = this.initSizes.scale * 0.3;\n\n      if (scale <= minScale) {\n        this.photoAndLayersContainer.scale.set(minScale, minScale); //this.photoAndLayersContainer.pivot.set(0,0);\n        //this.photoAndLayersContainer.position.set(this.initSizes.x,this.initSizes.y);\n\n        this.updateToolUI();\n        return;\n      }\n\n      var pivot = this.photoAndLayersContainer.toLocal(new PIXI.Point(x, y));\n      var position = this.photoAndLayersContainer.toGlobal(pivot);\n      this.photoAndLayersContainer.pivot.set(pivot.x, pivot.y);\n      this.photoAndLayersContainer.position.set(position.x, position.y);\n      this.photoAndLayersContainer.scale.set(scale, scale);\n      this.updateToolUI();\n    }\n    /**\n     * Set the active tool\n     *\n     * @function setTool\n     * @param {String} tool - can be BoardController.TOOL_BRUSH, BoardController.TOOL_MAGIC_WAND or BoardController.TOOL_POLYGON\n     */\n\n  }, {\n    key: \"setTool\",\n    value: function setTool(tool) {\n      if (this.currentTool) {\n        this.currentTool.setActive(null);\n      }\n\n      this.currentTool = tool == null ? null : BoardController.TOOLS[tool];\n\n      if (this.currentLayer && this.currentTool) {\n        this.currentTool.setActive(this.currentLayer, this.photoAndLayersContainer.scale.x);\n      }\n    }\n  }, {\n    key: \"updateToolUI\",\n    value: function updateToolUI() {\n      if (this.currentTool && this.currentTool.onPhotoScaleChange) {\n        this.currentTool.onPhotoScaleChange(this.photoAndLayersContainer.scale.x);\n      }\n    }\n    /**\n     * Add a new layer and select it\n     *\n     * @function addLayer\n     * @return {Object} object with info of the created layer {id,name,color,hexColor,rgbColor,hsvColor,whiteLevel,blackLevel}\n     */\n\n  }, {\n    key: \"addLayer\",\n    value: function addLayer() {\n      var layerID = this.layerCount;\n      var layerName = \"layer \" + this.layerCount;\n      var layer = new Layer(this.photoWidth, this.photoHeight, layerName, layerID, this.blackLayerTexture, this.whiteLayerTexture);\n      this.layers.push(layer);\n      this.layersContainer.addChild(layer);\n      this.layerCount += 1;\n      this.selectLayer(layer.layerID);\n      return layer.info;\n    }\n  }, {\n    key: \"findLayer\",\n    value: function findLayer(id) {\n      var total = this.layers.length;\n\n      for (var i = 0; i < total; i++) {\n        if (this.layers[i].layerID == id) {\n          return this.layers[i];\n        }\n      }\n\n      return null;\n    }\n    /**\n     * Select a layer based on the id\n     *\n     * @function selectLayer\n     * @param id {Int} - Id\n     * @return {Object} object with info of the selected layer {id,name,color,hexColor,rgbColor,hsvColor,whiteLevel,blackLevel}\n     */\n\n  }, {\n    key: \"selectLayer\",\n    value: function selectLayer(id) {\n      var layer = this.findLayer(id);\n      this.currentLayer = layer;\n\n      if (this.currentTool) {\n        this.currentTool.setActive(layer, this.photoAndLayersContainer.scale.x);\n      }\n\n      return layer.info;\n    }\n    /**\n     * Set a black level in the selected layer\n     *\n     * @function setBlackLevelToSelectedLayer\n     * @param val {Int} - new value 0-100\n     * @return {Object} object with info of the selected layer {id,name,color,hexColor,rgbColor,hsvColor,whiteLevel,blackLevel}\n     */\n\n  }, {\n    key: \"setBlackLevelToSelectedLayer\",\n    value: function setBlackLevelToSelectedLayer(val) {\n      if (!this.currentLayer) {\n        return;\n      } //console.log(\"setDarkToSelectedLayer: \"+val*.001);\n\n\n      this.currentLayer.blackLevel = val * .01; //this.currentLayer.setDarkLevel(val*.01);\n\n      if (this.currentTool) {\n        this.currentTool.onSelectedLayerPropsChange();\n      }\n\n      return this.currentLayer.info;\n    }\n    /**\n     * Set a white level in the selected layer\n     *\n     * @function setWhiteLevelToSelectedLayer\n     * @param val {Int} - new value 0-100\n     * @return {Object} object with info of the selected layer {id,name,color,hexColor,rgbColor,hsvColor,whiteLevel,blackLevel}\n     */\n\n    /**\n     * Show a magnifying glass\n     *\n     * @function showGlass\n     */\n\n  }, {\n    key: \"showGlass\",\n    value: function showGlass() {\n      if (!this.glass) {\n        this.glass = new MagnifyingGlass(200, 200, this.pixiApp.renderer, this.container, 2);\n        this.glass.setPivot(MagnifyingGlass.TOP_RIGHT);\n        this.pixiApp.stage.addChild(this.glass);\n      }\n\n      this.glass.visible = true;\n    }\n    /**\n     * Hide magnifying glass\n     *\n     * @function hideGlass\n     */\n\n  }, {\n    key: \"hideGlass\",\n    value: function hideGlass() {\n      if (!this.glass) {\n        this.glass = new MagnifyingGlass(200, 200, this.pixiApp.renderer, this.container);\n        this.pixiApp.stage.addChild(this.glass);\n      }\n\n      this.glass.visible = false;\n    }\n    /**\n     * Show/Hide magnifying glass\n     *\n     * @function switchGlass\n     */\n\n  }, {\n    key: \"switchGlass\",\n    value: function switchGlass() {\n      var isVisible = this.glass == null ? false : this.glass.visible;\n\n      if (isVisible) {\n        this.hideGlass();\n      } else {\n        this.showGlass();\n      }\n    }\n    /**\n     * Set a color in the selected layer\n     *\n     * @function setColorToSelectedLayer\n     * @param colorNumber {Int} - A color number like this 0xff0000\n     * @return {Object} object with info of the selected layer {id,name,color,hexColor,rgbColor,hsvColor,whiteLevel,blackLevel}\n     */\n\n  }, {\n    key: \"setColorToSelectedLayer\",\n    value: function setColorToSelectedLayer(colorNumber) {\n      this.currentLayer.color = colorNumber;\n\n      if (this.currentTool) {\n        this.currentTool.onSelectedLayerPropsChange();\n      }\n\n      return this.currentLayer.info;\n    }\n    /**\n     * Set a Hue in the selected layer\n     *\n     * @function setHueToSelectedLayer\n     * @param hue {Int} - hue value (0-359)\n     * @return {Object} object with info of the selected layer {id,name,color,hexColor,rgbColor,hsvColor,whiteLevel,blackLevel}\n     */\n\n  }, {\n    key: \"setHueToSelectedLayer\",\n    value: function setHueToSelectedLayer(hue) {\n      var _this$currentLayer$cu = this.currentLayer.currentHSVColor,\n          s = _this$currentLayer$cu.s,\n          v = _this$currentLayer$cu.v;\n      return this.setColorToSelectedLayer(UTILS.HSVtoRGBnumber(hue / 360, s / 100, v / 100));\n    }\n    /**\n     * Set a Saturation in the selected layer\n     *\n     * @function setSaturationToSelectedLayer\n     * @param sat {Number} - saturation value (0.0-1.0)\n     * @return {Object} object with info of the selected layer {id,name,color,hexColor,rgbColor,hsvColor,whiteLevel,blackLevel}\n     */\n\n  }, {\n    key: \"setSaturationToSelectedLayer\",\n    value: function setSaturationToSelectedLayer(sat) {\n      var _this$currentLayer$cu2 = this.currentLayer.currentHSVColor,\n          h = _this$currentLayer$cu2.h,\n          v = _this$currentLayer$cu2.v;\n      return this.setColorToSelectedLayer(UTILS.HSVtoRGBnumber(h / 360, sat / 100, v / 100));\n    }\n    /**\n     * Set a Brightness in the selected layer\n     *\n     * @function setBrightnessToSelectedLayer\n     * @param brightness {Number} - brightness value (0.0-1.0)\n     * @return {Object} object with info of the selected layer {id,name,color,hexColor,rgbColor,hsvColor,whiteLevel,blackLevel}\n     */\n\n  }, {\n    key: \"setBrightnessToSelectedLayer\",\n    value: function setBrightnessToSelectedLayer(brightness) {\n      var _this$currentLayer$cu3 = this.currentLayer.currentHSVColor,\n          h = _this$currentLayer$cu3.h,\n          s = _this$currentLayer$cu3.s;\n      return this.setColorToSelectedLayer(UTILS.HSVtoRGBnumber(h / 360, s / 100, brightness / 100));\n    }\n    /**\n     * Clear selection \"for polygon tool\"\n     *\n     * @function clearSelection\n     */\n\n  }, {\n    key: \"clearSelection\",\n    value: function clearSelection() {\n      this.selectionCtrl.clearSelection();\n    }\n  }, {\n    key: \"getCanvasResult\",\n    value: function getCanvasResult() {\n      var _this2 = this;\n\n      var matrix = new PIXI.Matrix();\n      matrix.translate(0, 0);\n      matrix.scale(1, 1);\n      var renderer = PIXI.RenderTexture.create(this.baseCanvas.width, this.baseCanvas.height);\n      this.photoAndLayersContainer.children.forEach(function (children, index) {\n        _this2.pixiApp.renderer.render(children, renderer, false);\n      });\n      return this.pixiApp.renderer.extract.canvas(renderer);\n    }\n  }]);\n\n  return BoardController;\n}();\n\nBoardController.TOOL_BRUSH = \"TOOL_BRUSH\";\nBoardController.TOOL_MAGIC_WAND = \"TOOL_MAGIC_WAND\";\nBoardController.TOOL_POLYGON = \"TOOL_POLYGON\";\nBoardController.TOOLS = [];\n\nvar makeNewPinchGestureData = function makeNewPinchGestureData(touchA, touchB) {\n  var pointA = getPositionFromTouch(touchA);\n  var pointB = getPositionFromTouch(touchB);\n  var middlePoint = UTILS.middlePoint(pointA, pointB);\n  var distance = UTILS.distance2d(pointA, pointB);\n  return {\n    middlePoint: middlePoint,\n    distance: distance\n  };\n};\n\nvar getPositionFromTouch = function getPositionFromTouch(touch) {\n  var rect = touch.target.getBoundingClientRect();\n  return {\n    x: touch.clientX - rect.left,\n    y: touch.clientY - rect.top\n  };\n};\n\nexport default BoardController;","import React, {memo,useContext} from \"react\";\nimport PropTypes from \"prop-types\"\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport {areEqual} from \"react-window\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\n\nconst colorsStyle = {\n    backgroundColor:'#fff000',\n    width:20,\n    height:20,\n    borderRadius:5\n}\n\nconst LayerRow = memo(({ data, index, style }) => {\n\n    const { layers,selectedLayerIndex, selectedLayerId, selectLayer } = data;\n    const layer = layers[index];\n    const colorStyle_ = {...colorsStyle,[\"backgroundColor\"]:`#${layer.hexColor}`}\n\n    function handleClick(){\n        selectLayer(index,layer.id)\n    }\n    function handleRemove() {\n        console.log(\"remove\")\n    }\n    return (\n        <ListItem onClick={handleClick} selected={selectedLayerId === layer.id} button style={style} key={index}>\n            <ListItemAvatar style={{minWidth:30}}>\n                <Avatar  style={colorStyle_}> </Avatar>\n            </ListItemAvatar>\n            <ListItemText secondary={layer.id} primary={layer.name} />\n        </ListItem>\n    );\n}, (prev,next)=>{\n    /*{id:layerID,name:layerName,color:layer.currentColor}*/\n\n    const prevData  = prev.data\n    const nextData = next.data\n    const prevLayerInfo = prevData.layers[prev.index]\n    const nextLayerInfo = nextData.layers[next.index]\n\n    if( prevLayerInfo.id === nextLayerInfo.id\n        && prevLayerInfo.name === nextLayerInfo.name\n        && prevLayerInfo.hexColor === nextLayerInfo.hexColor){\n        if(prevData.selectedLayerId != nextData.selectedLayerId && (prevData.selectedLayerId == prevLayerInfo.id || nextData.selectedLayerId == nextLayerInfo.id ) ){\n           return false\n        }\n        return true\n    }\n\n\n    return false\n\n});\n\n\nLayerRow.propTypes = {\n    index: PropTypes.number.isRequired,\n    style: PropTypes.object.isRequired,\n};\n\nexport default LayerRow","import React, {memo} from \"react\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport brushIcon from \"../../../images/brush-icon.png\";\nimport ereaseIcon from \"../../../images/erease-icon.png\";\nimport Divider from \"@material-ui/core/Divider\";\nimport magicWandIcon from \"../../../images/magic-wand-icon.png\";\nimport polygonIcon from \"../../../images/polygon-icon.png\";\nimport AppBar from \"@material-ui/core/AppBar/AppBar\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport PropTypes from \"prop-types\"\nimport LayerRow from \"../LayerRow\";\nimport Slide from \"@material-ui/core/Slide\";\n\nconst useStyles = makeStyles(theme => ({\n    toolbar:{\n        paddingLeft:0,\n        paddingRight:0\n    },\n    appBarBottom: {\n        top: 'auto',\n        bottom: 0/*,\n        height:50*/\n    },\n    iconImg:{\n        width:24,\n        height: 24\n    },\n    divider:{\n        height: 24,\n        backgroundColor: \"rgb(100,100,100)\",\n        marginLeft:5,\n        marginRight:5\n    }\n\n\n}));\n\nconst BottomToolBar = (props)=>{\n    const {handleBrushBtn,handleMagicWandBtn,handleSelectionPolygonBtn,visible} = props\n    const classes = useStyles()\n    return (\n        <Slide direction=\"up\" in={visible}>\n            <AppBar  position=\"fixed\" color=\"primary\" className={classes.appBarBottom}>\n                <Toolbar className={classes.toolbar} variant=\"dense\">\n                    <IconButton  onClick={handleBrushBtn} >\n                        <img className={classes.iconImg} src={brushIcon}/>\n                    </IconButton>\n                    <Divider orientation=\"vertical\" className={classes.divider}  light={true}/>\n\n                    <IconButton  onClick={handleMagicWandBtn} >\n                        <img className={classes.iconImg} src={magicWandIcon}/>\n                    </IconButton>\n\n                    <IconButton style={{display:\"none\"}} onClick={handleSelectionPolygonBtn}>\n                        <img className={classes.iconImg} src={polygonIcon}/>\n                    </IconButton>\n                </Toolbar>\n            </AppBar>\n        </Slide>\n    )\n}\n\nBottomToolBar.propTypes = {\n    handleBrushBtn: PropTypes.func.isRequired,\n    handleMagicWandBtn: PropTypes.func.isRequired,\n    handleSelectionPolygonBtn: PropTypes.func.isRequired,\n    visible:PropTypes.bool.isRequired\n};\n\n\n\n\nexport default BottomToolBar","import withStyles from \"@material-ui/core/styles/withStyles\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport React from \"react\";\nimport Slider from \"@material-ui/core/Slider\";\n\nexport const MenuTabs = withStyles(theme => ({\n    root: {\n        //borderBottom: '1px solid #e8e8e8',\n    },\n    indicator: {\n        height:0,\n        //backgroundColor: theme.palette.secondary.light,\n    },\n}))(Tabs);\n\nexport const MenuTab = withStyles(theme => ({\n    root: {\n        textTransform: 'none',\n        minWidth: 15,\n        fontWeight: theme.typography.fontWeightRegular,\n        marginRight: theme.spacing(0),\n        '&:hover': {\n            opacity: 1,\n        },\n        '&$selected': {\n            //color: theme.color.secondary,\n            backgroundColor:theme.palette.primary.dark,\n            color: theme.palette.secondary.light,\n            fontWeight: theme.typography.fontWeightMedium,\n        },\n        '&:focus': {\n            //color: '#40a9ff',\n        },\n    },\n    selected: {},\n}))(props => <Tab disableRipple {...props} />);\n\nexport const VerticalSlider = withStyles(theme => ({\n    root: {\n        color: theme.palette.secondary.light,\n        minWidth:20\n    },\n    thumb: {\n        height: 0,\n        width: 0,\n        backgroundColor: 'transparent',\n        border: '2px solid transparent',\n        left:16,\n        '&:focus,&:hover,&$active': {\n            boxShadow: 'inherit',\n        },\n    },\n    active: {},\n    valueLabel: {\n        left: 'calc(-50% + 4px)',\n    },\n    track: {\n        /*marginLeft:-5,*/\n        minWidth:20,\n        borderRadius: 4,\n    },\n    rail: {\n        minWidth:20,\n        borderRadius: 4,\n    },\n}))(Slider);\n","import React from \"react\";\nimport Slide from \"@material-ui/core/Slide\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\nimport PropTypes from \"prop-types\"\nimport Grid from \"@material-ui/core/Grid\";\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {MenuTab,MenuTabs,VerticalSlider} from \"../StylizedMaterialComponents\";\nimport InputHorizontalSlider from \"../InputHorizontalSlider\";\n\n\n\nconst useStyles = makeStyles(theme => ({\n    flexGrow1:{\n        flexGrow:1\n    },\n    container:{\n        color: theme.palette.secondary.light,\n        top:\"auto\",\n        bottom: 0,\n        left:0,\n        right:0,\n        position: \"fixed\",\n        backgroundColor: theme.palette.primary.main\n    },\n    bar:{\n        display : \"flex\"\n    }\n}));\n\n\n\n\nconst BrushToolBar = (props)=>{\n\n    const classes = useStyles()\n\n    const {visible,handleSize,handleHardness,handleClose,handleBrushType,brushValues} = props\n    const {size,hardness,type} = brushValues\n    const brushType = type === 0 ? 1 : 0\n    const handleBrushTypeChange = (event, newValue) => {\n        handleBrushType(newValue === 0 ? 1 : 0)\n    };\n\n    return (\n        <Slide  direction=\"up\" in={visible}>\n            <div  className={classes.container}>\n                <div className={classes.bar}  >\n                    <MenuTabs onChange={handleBrushTypeChange}  value={brushType}>\n                        <MenuTab  icon={<AddCircleIcon/>}/>\n                        <MenuTab  icon={<RemoveCircleOutlineIcon/>}/>\n                    </MenuTabs>\n                    <div className={classes.flexGrow1}/>\n                    <IconButton onClick={handleClose}  color=\"secondary\">\n                        <ExpandMoreIcon/>\n                    </IconButton>\n                </div>\n                <Grid container>\n                    <Grid item xs={12}>\n                        <InputHorizontalSlider\n                            defaultValue={30}\n                            min={1} max={500}\n                            value={size}\n                            onChange={handleSize}\n                            unit={\"px\"}\n                            label={\"Size\"} />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <InputHorizontalSlider\n                            defaultValue={30}\n                            min={0} max={100}\n                            value={hardness}\n                            onChange={handleHardness}\n                            label={\"Hardness\"} />\n                    </Grid>\n                </Grid>\n            </div>\n        </Slide>\n    )\n}\n\n\nBrushToolBar.propTypes = {\n    visible:PropTypes.bool.isRequired,\n    handleSize: PropTypes.func.isRequired,\n    handleHardness: PropTypes.func.isRequired,\n    handleClose: PropTypes.func.isRequired,\n    handleBrushType: PropTypes.func.isRequired,\n    brushValues: PropTypes.object.isRequired,\n}\n\nexport default BrushToolBar","import React from \"react\";\nimport Slide from \"@material-ui/core/Slide\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\nimport PropTypes from \"prop-types\"\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {MenuTab,MenuTabs,VerticalSlider} from \"../StylizedMaterialComponents\";\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Grid from \"@material-ui/core/Grid\";\nimport InputHorizontalSlider from \"../InputHorizontalSlider\";\n\n\n\n\nconst useStyles = makeStyles(theme => ({\n    flexGrow1:{\n        flexGrow:1\n    },\n    container:{\n        color: theme.palette.secondary.light,\n        top:\"auto\",\n        bottom: 0,\n        left:0,\n        right:0,\n        position: \"fixed\",\n        backgroundColor: theme.palette.primary.main\n    },\n    bar:{\n        display : \"flex\"\n    },\n    barButton:{\n        margin:10\n    }\n\n\n}));\n\n\n\n\nconst MagicWandToolBar = (props)=>{\n    const classes = useStyles()\n    const {disabledButtons,visible,handleTolerance,handleClose,handleCancel,handleType,magicWandValues,handleAccept,handleToleranceCommitted} = props\n    const {tolerance,type} = magicWandValues\n    const toolType = type === 0 ? 1 : 0\n    const handleToolTypeChange = (event, newValue) => {\n        handleType(newValue === 0 ? 1 : 0)\n    };\n\n    return (\n        <Slide  direction=\"up\" in={visible}>\n            <div  className={classes.container}>\n                <div className={classes.bar}  >\n                    <MenuTabs onChange={handleToolTypeChange}  value={toolType}>\n                        <MenuTab  icon={<AddCircleIcon/>}/>\n                        <MenuTab  icon={<RemoveCircleOutlineIcon/>}/>\n                    </MenuTabs>\n                    <div className={classes.flexGrow1}/>\n                    <IconButton onClick={handleClose}  color=\"secondary\">\n                        <ExpandMoreIcon/>\n                    </IconButton>\n                </div>\n                <Grid container>\n                    <Grid item xs={12}>\n                        <InputHorizontalSlider\n                            onChangeCommitted={handleToleranceCommitted}\n                            defaultValue={100}\n                            min={1} max={200}\n                            value={tolerance}\n                            onChange={handleTolerance}\n                            label={\"Tolerance\"} />\n                    </Grid>\n                    <Grid item xs={12} className={classes.bar}>\n                        <div className={classes.flexGrow1}/>\n                        <Button size=\"small\" disabled={disabledButtons} onClick={handleCancel} className={classes.barButton} variant=\"outlined\" color=\"secondary\">\n                            Cancel\n                        </Button>\n                        <Button size=\"small\" disabled={disabledButtons} onClick={handleAccept} className={classes.barButton} variant=\"outlined\" color=\"secondary\">\n                            Apply\n                        </Button>\n                    </Grid>\n                </Grid>\n            </div>\n        </Slide>\n    )\n}\n\nMagicWandToolBar.propTypes = {\n    visible:PropTypes.bool.isRequired,\n    handleTolerance: PropTypes.func.isRequired,\n    handleToleranceCommitted: PropTypes.func.isRequired,\n    handleClose: PropTypes.func.isRequired,\n    handleType: PropTypes.func.isRequired,\n    magicWandValues: PropTypes.object.isRequired,\n    handleAccept: PropTypes.func.isRequired,\n    handleCancel: PropTypes.func.isRequired,\n    disabledButtons: PropTypes.bool.isRequired\n}\n\nexport default MagicWandToolBar","import React, {memo} from \"react\";\n\nimport PropTypes from \"prop-types\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport {FixedSizeList} from \"react-window\";\nimport LayerRow from \"./LayerRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SwipeableDrawer from \"@material-ui/core/SwipeableDrawer\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst useStyles = makeStyles(theme => ({\n\n    iconBtn:{\n        /*backgroundColor:\"#ffffff14\",\n        '&:active':{\n            backgroundColor:\"#FF0000\"\n        }*/\n    },\n    svgIcon:{\n        color:\"#919191\"\n    },\n    layersPaper:{\n        position:\"absolute !important\",\n        width:\"100%\",\n        bottom:50,\n        top:75,\n        left:0,\n        borderRadius:0\n    },\n    layersContainer: {\n        width : 250,\n        height : \"100%\",\n        backgroundColor: theme.palette.primary.main,\n        color: \"#FFFFFF\"\n    },\n    h4:{\n        marginLeft:16,\n        marginTop:16\n    },\n    layerToolBar : {\n        position : \"absolute\",\n        width : \"100%\",\n        bottom : 0,\n        height : 50,\n        backgroundColor: theme.palette.primary.dark,\n        display: \"flex\"\n    },\n    grow:{\n        flexGrow:1\n    }\n}));\n\nconst LayersBox = memo((props) => {\n    const classes = useStyles()\n    const {onClose,onOpen,open,layers,handleSelect,selectedLayerIndex,selectedLayerId,handleAddLayer} = props\n    const data = {layers,selectedLayerIndex,selectedLayerId,selectLayer:handleSelect}\n\n    return (\n        <SwipeableDrawer\n            onClose={onClose}\n            onOpen={onOpen}\n            open={open}>\n            <div  className={classes.layersContainer} role=\"presentation\">\n                <Typography className={classes.h4} variant={\"h4\"}>Layers</Typography>\n                <div className={classes.layersPaper}>\n                    <AutoSizer>\n                        {({ height, width }) => (\n                            <FixedSizeList height={height} width={width} itemData={data} itemSize={46} itemCount={layers.length} >\n                                {LayerRow}\n                            </FixedSizeList>\n                        )}\n                    </AutoSizer>\n                </div>\n\n                <div className={classes.layerToolBar}>\n                    <div className={classes.grow}/>\n                    <IconButton style={{display:\"none\"}} disabled={selectedLayerIndex == null} className={classes.iconBtn}>\n                        <DeleteIcon className={classes.svgIcon}/>\n                    </IconButton>\n                    <IconButton onClick={handleAddLayer} className={classes.iconBtn}>\n                        <AddIcon className={classes.svgIcon}/>\n                    </IconButton>\n                </div>\n            </div>\n        </SwipeableDrawer>\n    );\n}, (prev,next)=>{\n\n    return false\n\n});\n\n\nLayersBox.propTypes = {\n    onClose : PropTypes.func.isRequired,\n    onOpen : PropTypes.func.isRequired,\n    open : PropTypes.bool.isRequired,\n    layers : PropTypes.array.isRequired,\n    handleSelect : PropTypes.func.isRequired,\n    selectedLayerIndex : PropTypes.number,\n    selectedLayerId : PropTypes.number,\n    handleAddLayer : PropTypes.func.isRequired,\n    handleRemoveLayer : PropTypes.func.isRequired\n\n};\n\nexport default LayersBox","import React, {useRef} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types'\nimport Button from \"@material-ui/core/Button\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\n\n\nconst useStyles = makeStyles(theme => ({\n    main:{\n        boxShadow : \"0px 2px 100px 10px rgba(0,0,0,0.30)\",\n        border : \"2px dashed #38342f\",\n        borderRadius:20,\n        maxWidth:440,\n        margin: \"auto\",\n        padding: \"50px 0px\",\n        textAlign: \"center\",\n        background : \"#2f2d2a\",\n        color : '#ffffff',\n        fontSize: 22,\n        \"& p\":{\n        }\n    },\n    spanT:{\n        borderRadius : 10,\n        display : \"inline-block\",\n        overflow: \"hidden\",\n        background : 'conic-gradient(#75baeb, #ff66cc, #75baeb) ',\n        padding : 1,\n        '&:hover': {\n            //background: 'conic-gradient(#ff66cc, #75baeb, #ff66cc) ',\n           // borderColor: '#0062cc',\n            //boxShadow: 'none',\n        }\n    }\n}));\n\n\nconst LoadButton = withStyles(theme => ({\n    root: {\n        color: '#ffffff',\n        borderRadius: 9,\n        boxShadow: 'none',\n        fontSize: 22,\n        textTransform : \"none\",\n        padding: '10px 40px',\n        border: '0px solid',\n        lineHeight: 1.5,\n        background : \"#2f2d2a\",\n        '&:hover': {\n            background: theme.palette.primary.dark,\n            boxShadow: 'none',\n        },\n        '&:active': {\n            //boxShadow: 'none',\n            //backgroundColor: '#0062cc',\n            //borderColor: '#005cbf',\n        },\n        '&:focus': {\n            //boxShadow: '0 0 0 0.2rem rgba(0,123,255,.5)',\n        }\n    },\n}))(Button);\n\nfunction FileDropView(props) {\n    const classes = useStyles();\n\n    const fileInputRef = useRef()\n    function componentDidMount() {\n        console.log(\"componentDidMount\")\n    }\n\n    function componentWillUnmount() {\n        console.log(\"componentWillUnmount\")\n    }\n    function onFileDrop(e) {\n        let event = e\n        event.stopPropagation()\n        event.preventDefault()\n        if (props.onFiles) {\n            props.onFiles(e.dataTransfer.files)\n        }\n    }\n\n    function onDragOver(e) {\n        let event = e\n        event.stopPropagation()\n        event.preventDefault()\n    };\n\n    function onDragEnter(e) {\n        let event = e\n        event.stopPropagation()\n    };\n\n    function readFile(e){\n        if (props.onFiles) {\n            props.onFiles(e.currentTarget.files)\n        }\n        e.currentTarget.value = null\n    }\n\n    const handleLoadPicture = ()=>{\n        console.log(\"handleLoadPicture\")\n        fileInputRef.current.click()\n    }\n\n    return (\n        <Paper color={\"\"} className={classes.main} onDragEnter={onDragEnter}\n               onDragOver={onDragOver} onDrop={onFileDrop}>\n            <p>\n                <div className={classes.spanT}>\n                <LoadButton onClick={handleLoadPicture} variant=\"contained\">\n                    Load Picture\n                </LoadButton>\n                </div>\n            </p>\n\n            <input hidden={true} ref={fileInputRef} type=\"file\" accept={props.accept || \"\"}\n                   onChange={(event)=> {\n                       readFile(event)\n                   }}\n                   onClick={(event)=> {\n                       event.target.value = null\n                       event.currentTarget.value = null;\n                   }}\n            />\n            <p>or</p>\n            <p>Drag a picture here</p>\n        </Paper>\n    );\n}\n\nFileDropView.propTypes = {\n    onFiles:PropTypes.func.isRequired,\n    accept:PropTypes.string.isRequired\n}\n\n\nexport default  FileDropView;","import React from \"react\";\nimport PropTypes from \"prop-types\"\nimport FileDropView from \"./FileDropView\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport logoImg from \"../../../images/logo.png\"\nimport Button from \"@material-ui/core/Button\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nconst VideoButton = withStyles(theme => ({\n    root: {\n        color: '#ffffff',\n        borderRadius: 10,\n        boxShadow: 'none',\n        fontSize: 22,\n        textTransform : \"none\",\n        padding: '10px 40px',\n        border: '0px solid',\n        lineHeight: 1.5,\n        background : \"#f04b63\",\n        '&:hover': {\n            background: theme.palette.primary.light,\n            boxShadow: 'none',\n        },\n        '&:active': {\n            //boxShadow: 'none',\n            //backgroundColor: '#0062cc',\n            //borderColor: '#005cbf',\n        },\n        '&:focus': {\n            //boxShadow: '0 0 0 0.2rem rgba(0,123,255,.5)',\n        }\n    },\n}))(Button);\n\nconst useStyles = makeStyles(theme => ({\n    grow:{\n        flexGrow:1\n    },\n    loaderContainer:{\n        position:\"fixed\",\n        top:0,\n        left:0,\n        right:0,\n        bottom:0,\n        background: \"#292827\",\n        \"& p\":{\n            textAlign : \"center\"\n        },\n        \"& p:first-child\" : {\n            marginTop: 40\n        }\n    },\n    videoButtonContainer: {\n        marginTop : 40,\n        marginBottom : 40\n    },\n    logo : {\n        width : 246,\n        height : 115,\n        margin : \"auto\",\n        background :\"url(\"+logoImg+\")\",\n        backgroundSize : \"cover\"\n    }\n}));\n\n\nconst Index = (props)=>{\n    const classes = useStyles()\n    const {onFileDrop} = props\n    const openVideo = ()=>{\n        window.open('https://www.youtube.com/watch?v=xLzOS9Q5Zng','_blank')\n    }\n    return (\n        <div className={classes.loaderContainer}>\n            <p>\n                <div className={classes.logo} />\n            </p>\n            <p className={classes.videoButtonContainer}>\n                <VideoButton onClick={openVideo}>\n                    Watch Demo Video\n                </VideoButton>\n            </p>\n            <FileDropView onFiles={onFileDrop} accept={\"image/x-png,image/jpeg\"}/>\n        </div>\n    )\n}\n\nIndex.propTypes = {\n    onFileDrop : PropTypes.func.isRequired\n}\n\nexport default Index","import React, {useCallback, useRef, useState} from \"react\";\nimport AppBar from '@material-ui/core/AppBar';\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport bgImage from '../images/bg_dark.gif'\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Typography from \"@material-ui/core/Typography\";\nimport LayersTwoToneIcon from '@material-ui/icons/LayersTwoTone';\nimport ExposureTwoToneIcon from '@material-ui/icons/ExposureTwoTone';\nimport Slide from '@material-ui/core/Slide';\nimport ColorLayerToolBar from \"./Components/ToolBars/ColorLayerToolBar\";\nimport BlackWhiteLayerToolBar from \"./Components/ToolBars/BlackWhiteLayerToolBar\";\nimport BoardController  from \"color-replace-app-core\"\nimport SearchIcon from '@material-ui/icons/Search';\nimport BottomToolBar from \"./Components/ToolBars/BottomToolBar\";\nimport BrushToolBar from \"./Components/ToolBars/BrushToolBar\";\nimport MagicWandToolBar from \"./Components/ToolBars/MagicWandToolBar\";\nimport LayersBox from \"./Components/LayersBox\";\nimport Button from \"@material-ui/core/Button\";\nimport Index from \"./Components/InitialLogoAndLoaderPage\";\n\n\n\nconst useStyles = makeStyles(theme => ({\n    toolbar:{\n        paddingLeft:0,\n        paddingRight:10\n    },\n    bg:{\n        background:\"url(\"+bgImage+\")\",\n        width:\"100%\",\n        height:\"100%\",\n        position:\"absolute\",\n        top: 0,\n        left:0,\n        right:0,\n        bottom: 0\n    },\n    iconBtn:{\n        /*backgroundColor:\"#ffffff14\",\n        '&:active':{\n            backgroundColor:\"#FF0000\"\n        }*/\n\n    },\n    divider:{\n        height: 24,\n        backgroundColor: \"rgb(100,100,100)\",\n        marginLeft:5,\n        marginRight:5\n    },\n    colorBtn:{\n        width: 24,\n        height:24,\n        backgroundColor:\"#FF0000\",\n        borderRadius:5\n    },\n    svgIcon:{\n        color:\"#919191\"\n    },\n    layerNameLabel:{\n        marginLeft: 5,\n        marginRight: 5\n    },\n    content:{\n        position:\"absolute\",\n        top:50,\n        left:0,\n        right:0,\n        bottom:50\n    },\n    grow:{\n        flexGrow:1\n    },\n    loaderContainer:{\n        position:\"fixed\",\n        top:0,\n        left:0,\n        right:0,\n        bottom:0,\n        background: theme.palette.primary.dark\n    }\n}));\n\n\nfunction BoardPage(props){\n\n    const classes = useStyles()\n\n    const TOOL_BRUSH = BoardController.TOOL_BRUSH\n    const TOOL_MAGIC_WAND = BoardController.TOOL_MAGIC_WAND\n    const TOOL_POLYGON = BoardController.TOOL_POLYGON\n\n\n\n    const contentRef = useRef()\n\n\n    const [layersData,setLayersData] = useState({\n        selectedLayerIndex : null,\n        selectedLayerId : null,\n        layers : []\n    })\n\n\n\n    const [visibleFileLoader,setVisibleFileLoader] = useState(true)\n    const [visibleBottomBar,setVisibleBottomBar] = useState(false)\n    const [visibleTopBar,setVisibleTopBar] = useState(false)\n    const [visibleColorLayerToolBar,setVisibleColorLayerToolBar] = useState(false)\n    const [visibleBlackWhiteLayerToolBar,setVisibleBlackWhiteLayerToolBar] = useState(false)\n\n\n\n    const [visibleLayersBox,setVisibleLayersBox] = useState(false)\n\n    const [boardCtrl] = useState(new BoardController())\n    const [toolsValues,setToolsValues] = useState(null)\n    const [selectedTool,setSelectedTool] = useState(null)\n\n    const [disableMagicWandButtons,setDisableMagicWandButtons] = useState(true)\n\n\n\n    function handleBrushBtn(event) {\n        boardCtrl.setTool(BoardController.TOOL_BRUSH)\n        setSelectedTool(TOOL_BRUSH)\n    }\n\n    function handleSelectionPolygonBtn(event) {\n        boardCtrl.setTool(BoardController.TOOL_SELECTION_POLYGON)\n    }\n\n\n    function handleMagicWandBtn(event) {\n        boardCtrl.setTool(TOOL_MAGIC_WAND)\n        setSelectedTool(TOOL_MAGIC_WAND)\n        setDisableMagicWandButtons(true)\n    }\n\n    function handleLayersBtn(event){\n        setVisibleLayersBox(!visibleLayersBox)\n    }\n    function handleColorBtn(event) {\n        setVisibleTopBar(false)\n        setVisibleColorLayerToolBar(true)\n    }\n\n    function handleDarksLightsBtn(event) {\n        setVisibleTopBar(false)\n        setVisibleBlackWhiteLayerToolBar(true)\n    }\n\n\n\n    function onFileDrop(files){\n        if(files && files[0]){\n            var reader = new FileReader();\n            reader.onload = function (e) {\n                const pixelRatio = window.devicePixelRatio || 1\n                const screenWidth = window.screen.width * pixelRatio\n                const screenHeight = window.screen.height * pixelRatio\n                const maxCanvasSize =  (screenWidth > screenHeight ? screenWidth : screenHeight) * 1.5\n                boardCtrl.loadImage(contentRef.current,e.target.result,maxCanvasSize).then((canvas)=>{\n                    setVisibleFileLoader(false)\n                    contentRef.current.appendChild(canvas)\n                    setToolsValues(boardCtrl.getToolsValues())\n                    setVisibleBottomBar(true)\n                    setVisibleTopBar(true)\n                    boardCtrl.magicWandCallBack = ()=>{\n                        setDisableMagicWandButtons(false)\n                    }\n                })\n            }\n            reader.readAsDataURL(files[0]);\n        }\n    }\n\n    const handleHueSliderChange = (event, newValue) => {\n        let layerInfo = boardCtrl.setHueToSelectedLayer(newValue)\n        setLayersData((prevLayerData)=>{\n            prevLayerData.layers[prevLayerData.selectedLayerIndex] = layerInfo\n            return {...prevLayerData,[\"layers\"]:[...prevLayerData.layers]}\n        })\n\n    };\n\n    const handleSaturationSliderChange = (event, newValue) => {\n        let layerInfo = boardCtrl.setSaturationToSelectedLayer(newValue)\n        setLayersData((prevLayerData)=>{\n            prevLayerData.layers[prevLayerData.selectedLayerIndex] = layerInfo\n            return {...prevLayerData,[\"layers\"]:[...prevLayerData.layers]}\n        })\n    };\n\n    const handleBrightnessSliderChange = (event, newValue) => {\n        let layerInfo = boardCtrl.setBrightnessToSelectedLayer(newValue)\n        setLayersData((prevLayerData)=>{\n            prevLayerData.layers[prevLayerData.selectedLayerIndex] = layerInfo\n            return {...prevLayerData,[\"layers\"]:[...prevLayerData.layers]}\n        })\n    };\n\n    const handleDarksSlider =  (event, newValue) => {\n        let layerInfo = boardCtrl.setBlackLevelToSelectedLayer(newValue)\n        setLayersData((prevLayerData)=>{\n            prevLayerData.layers[prevLayerData.selectedLayerIndex] = layerInfo\n            return {...prevLayerData,[\"layers\"]:[...prevLayerData.layers]}\n        })\n    }\n\n    const handleLightsSlider =  (event, newValue) => {\n        let layerInfo = boardCtrl.setWhiteLevelToSelectedLayer(newValue)\n        setLayersData((prevLayerData)=>{\n            prevLayerData.layers[prevLayerData.selectedLayerIndex] = layerInfo\n            return {...prevLayerData,[\"layers\"]:[...prevLayerData.layers]}\n        })\n    }\n\n    const handleBrushSize = (event, newValue) => {\n        boardCtrl.setBrushSize(newValue)\n        setToolsValues((prevValue)=>{\n            return {...boardCtrl.getToolsValues()}\n        })\n    }\n\n    const handleBrushType = (type)=>{\n        if(type === 0){\n            boardCtrl.setBrushToRemove()\n        }else{\n            boardCtrl.setBrushToAdd()\n        }\n        setToolsValues((prevValue)=>{\n            return {...boardCtrl.getToolsValues()}\n        })\n    }\n\n    const handleBrushHardness = (event, newValue) => {\n        boardCtrl.setBrushHardness(newValue)\n        setToolsValues((prevValue)=>{\n            return {...boardCtrl.getToolsValues()}\n        })\n    }\n\n\n\n\n    const handleCloseBrushTool = ()=>{\n        boardCtrl.setTool(null)\n        setSelectedTool(null)\n    }\n\n    const handleMagicWandTolerance = (event, val)=>{\n        boardCtrl.setMagicWandTolerance(val)\n        setToolsValues((prevValue)=>{\n            return {...boardCtrl.getToolsValues()}\n        })\n    }\n\n    const handleMagicWandToleranceCommitted = (event,val)=>{\n        boardCtrl.setMagicWandTolerance(val)\n        boardCtrl.fillMagicWand()\n        setToolsValues((prevValue)=>{\n            return {...boardCtrl.getToolsValues()}\n        })\n    }\n\n    const handleCloseMagicWandTool = ()=>{\n        boardCtrl.setTool(null)\n        setSelectedTool(null)\n    }\n\n    const handleCancelMagicWandTool = ()=>{\n        boardCtrl.setTool(null)\n        setDisableMagicWandButtons(true)\n        handleMagicWandBtn(null)\n    }\n\n    const handleMagicWandType = (type)=>{\n        if(type === 0){\n            boardCtrl.setMagicWandToRemove()\n        }else{\n            boardCtrl.setMagicWandToAdd()\n        }\n        setToolsValues((prevValue)=>{\n            return {...boardCtrl.getToolsValues()}\n        })\n    }\n\n    const handleAcceptMagicWand = ()=>{\n        boardCtrl.applyMagicWandToSelectedLayer()\n        setDisableMagicWandButtons(true)\n    }\n\n    const handleCloseLayersBox = ()=>{\n        setVisibleLayersBox(false)\n    }\n    const handleOpenLayersBox = ()=>{\n        setVisibleLayersBox(true)\n    }\n\n    const handleAddLayer = useCallback(()=>{\n        let layerInfo = boardCtrl.addLayer()\n        setLayersData((prevLayerData)=>{\n            var resData = Object.assign({},prevLayerData)\n            resData.layers = [layerInfo,...resData.layers]\n            resData.selectedLayerIndex = 0\n            resData.selectedLayerId = layerInfo.id\n            return resData\n        })\n    },[setLayersData,boardCtrl])\n\n    const handleSelectLayer = useCallback(\n        (index,id) => {\n            let layerInfo = boardCtrl.selectLayer(id)\n            setLayersData((prevLayerData)=>{\n                var resData = Object.assign({},prevLayerData)\n                resData.layers = [...resData.layers]\n                resData.layers[index] = layerInfo\n                resData.selectedLayerIndex = index\n                resData.selectedLayerId = layerInfo.id\n                return resData\n            })\n        },\n        [setLayersData,boardCtrl],\n    );\n\n\n\n    function handleRemoveLayer(){\n\n    }\n\n\n    const selectedLayer = layersData.selectedLayerIndex === null ? null : layersData.layers[layersData.selectedLayerIndex]\n\n    const handleExportResult = ()=>{\n        let resultCanvas = boardCtrl.getCanvasResult()\n        var image = new Image();\n        image.src = resultCanvas.toDataURL();\n        var w = window.open(\"\");\n        w.document.write(image.outerHTML);\n    }\n\n    return(\n        <>\n            <div className={classes.bg}>\n                <Slide direction=\"down\" in={visibleTopBar}>\n                    <AppBar  position=\"static\" color=\"primary\" >\n                        <Toolbar className={classes.toolbar} variant=\"dense\">\n                            <IconButton onClick={handleLayersBtn} className={classes.iconBtn}>\n                                <LayersTwoToneIcon className={classes.svgIcon}/>\n                            </IconButton>\n                            <Divider orientation=\"vertical\" className={classes.divider}  light={true}/>\n                            <Typography className={classes.layerNameLabel} variant=\"h6\">\n                                {selectedLayer && selectedLayer.name}\n\n                            </Typography>\n                            {selectedLayer && (\n                                <IconButton onClick={handleColorBtn} className={classes.iconBtn}>\n                                    <div style={{backgroundColor:`#${selectedLayer.hexColor}`}} className={classes.colorBtn}></div>\n                                </IconButton>\n                            )}\n\n\n                            <IconButton  onClick={handleDarksLightsBtn} className={classes.iconBtn}>\n                                <ExposureTwoToneIcon className={classes.svgIcon}/>\n                            </IconButton>\n                            <IconButton onClick={()=> boardCtrl.switchGlass()} className={classes.iconBtn}>\n                                <SearchIcon className={classes.svgIcon}/>\n                            </IconButton>\n\n                            <div className={classes.grow}/>\n                            <Button onClick={handleExportResult} variant=\"contained\" size=\"small\" color=\"secondary\">\n                                Export\n                            </Button>\n                        </Toolbar>\n                    </AppBar>\n                </Slide>\n\n\n\n                <div ref={contentRef} className={classes.content}>\n\n                </div>\n                {visibleFileLoader && (\n                    <Index onFileDrop={onFileDrop}/>\n                )}\n\n                <LayersBox\n                    onClose={handleCloseLayersBox}\n                    onOpen={handleOpenLayersBox}\n                    open={visibleLayersBox}\n                    layers={layersData.layers}\n                    handleSelect={handleSelectLayer}\n                    handleAddLayer={handleAddLayer}\n                    handleRemoveLayer={handleRemoveLayer}\n                    selectedLayerIndex={layersData.selectedLayerIndex}\n                    selectedLayerId={layersData.selectedLayerId}\n                />\n\n\n\n\n\n\n                <BottomToolBar visible={visibleBottomBar && selectedTool === null} handleBrushBtn={handleBrushBtn} handleMagicWandBtn={handleMagicWandBtn} handleSelectionPolygonBtn={handleSelectionPolygonBtn}/>\n\n\n\n\n\n                {toolsValues && (\n                    <>\n                        <BrushToolBar visible={selectedTool === TOOL_BRUSH}\n                                  brushValues={{type:toolsValues[BoardController.TOOL_BRUSH].type,size:toolsValues[BoardController.TOOL_BRUSH].size,hardness:toolsValues[BoardController.TOOL_BRUSH].hardness}}\n                                  handleBrushType={handleBrushType}\n                                  handleHardness={handleBrushHardness}\n                                  handleSize={handleBrushSize}\n                                  handleClose={handleCloseBrushTool} />\n\n                        <MagicWandToolBar visible={selectedTool === TOOL_MAGIC_WAND}\n                                          handleCancel={handleCancelMagicWandTool}\n                                          handleToleranceCommitted={handleMagicWandToleranceCommitted}\n                                          handleTolerance={handleMagicWandTolerance}\n                                          handleClose={handleCloseMagicWandTool}\n                                          handleType={handleMagicWandType}\n                                          disabledButtons={disableMagicWandButtons}\n                                          magicWandValues={{type:toolsValues[TOOL_MAGIC_WAND].type,tolerance:toolsValues[TOOL_MAGIC_WAND].tolerance}}\n                                          handleAccept={handleAcceptMagicWand}/>\n                    </>\n                )}\n\n\n\n\n                {selectedLayer && (\n                    <>\n                    <ColorLayerToolBar visible={visibleColorLayerToolBar}\n                                       handleHueSliderChange={handleHueSliderChange}\n                                       handleSaturationSliderChange={handleSaturationSliderChange}\n                                       handleBrightnessSliderChange={handleBrightnessSliderChange}\n                                       handleClose={()=>{\n                                           setVisibleColorLayerToolBar(false)\n                                           setVisibleTopBar(true)\n                                       }}\n                                       layerName={selectedLayer.name}\n                                       layerColor={`#${selectedLayer.hexColor}`}\n                                       hue={selectedLayer.hsvColor.h}\n                                       saturation={selectedLayer.hsvColor.s}\n                                       brightness={selectedLayer.hsvColor.v}/>\n\n                     <BlackWhiteLayerToolBar\n                         visible={visibleBlackWhiteLayerToolBar}\n                         handleWhitesSliderChange={handleLightsSlider}\n                         white={selectedLayer.whiteLevel / .01}\n                         handleBlacksSliderChange={handleDarksSlider}\n                         black={selectedLayer.blackLevel / .01}\n                         handleClose={()=>{\n                             setVisibleBlackWhiteLayerToolBar(false)\n                             setVisibleTopBar(true)\n                         }}/>\n                                       </>\n                )}\n\n\n\n            </div>\n        </>\n    )\n}\n\n\n\nexport default  BoardPage","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport {Container} from \"@material-ui/core\";\nimport BoardPage from \"./BoardPage\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\n\nconst useStyles = makeStyles({\n    rootContainer: {\n       padding:0,\n        margin:0\n    }\n});\n\nfunction App() {\n    const classes = useStyles()\n\n  return (\n      <Container className={classes.rootContainer} maxWidth={false}>\n        <BoardPage/>\n      </Container>\n\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { red } from '@material-ui/core/colors';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\n// A custom theme for this app\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            main: '#3d3a38',\n            contrastText : '#ffffff'\n        },\n        secondary: {\n            main: '#19857b',\n        },\n        error: {\n            main: red.A400,\n        },\n        background: {\n            default: '#fff',\n        },\n    },\n});\n\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport theme from \"./theme\";\nimport { ThemeProvider } from '@material-ui/styles';\nimport {CssBaseline} from \"@material-ui/core\";\n\nReactDOM.render(\n    <ThemeProvider theme={theme}>\n        <CssBaseline/>\n        <App />\n    </ThemeProvider>\n    , document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/gif;base64,R0lGODlhEAAQAIAAADYyMSkmJSH5BAAAAAAALAAAAAAQABAAAAIfjG+gq4jM3IFLJgpswNly/XkcBpIiVaInlLJr9FZWAQA7\""],"sourceRoot":""}